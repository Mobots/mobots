   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f10x_flash.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.align	2
  19              		.global	FLASH_SetLatency
  20              		.thumb
  21              		.thumb_func
  23              	FLASH_SetLatency:
  24              	.LFB29:
  25              		.file 1 "../stm32_lib/src/stm32f10x_flash.c"
   1:../stm32_lib/src/stm32f10x_flash.c **** /**
   2:../stm32_lib/src/stm32f10x_flash.c ****   ******************************************************************************
   3:../stm32_lib/src/stm32f10x_flash.c ****   * @file    stm32f10x_flash.c
   4:../stm32_lib/src/stm32f10x_flash.c ****   * @author  MCD Application Team
   5:../stm32_lib/src/stm32f10x_flash.c ****   * @version V3.3.0
   6:../stm32_lib/src/stm32f10x_flash.c ****   * @date    04/16/2010
   7:../stm32_lib/src/stm32f10x_flash.c ****   * @brief   This file provides all the FLASH firmware functions.
   8:../stm32_lib/src/stm32f10x_flash.c ****   ******************************************************************************
   9:../stm32_lib/src/stm32f10x_flash.c ****   * @copy
  10:../stm32_lib/src/stm32f10x_flash.c ****   *
  11:../stm32_lib/src/stm32f10x_flash.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../stm32_lib/src/stm32f10x_flash.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../stm32_lib/src/stm32f10x_flash.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../stm32_lib/src/stm32f10x_flash.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../stm32_lib/src/stm32f10x_flash.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../stm32_lib/src/stm32f10x_flash.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../stm32_lib/src/stm32f10x_flash.c ****   *
  18:../stm32_lib/src/stm32f10x_flash.c ****   * <h2><center>&copy; COPYRIGHT 2010 STMicroelectronics</center></h2>
  19:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  20:../stm32_lib/src/stm32f10x_flash.c **** 
  21:../stm32_lib/src/stm32f10x_flash.c **** /* Includes ------------------------------------------------------------------*/
  22:../stm32_lib/src/stm32f10x_flash.c **** #include "stm32f10x_flash.h"
  23:../stm32_lib/src/stm32f10x_flash.c **** 
  24:../stm32_lib/src/stm32f10x_flash.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  25:../stm32_lib/src/stm32f10x_flash.c ****   * @{
  26:../stm32_lib/src/stm32f10x_flash.c ****   */
  27:../stm32_lib/src/stm32f10x_flash.c **** 
  28:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH 
  29:../stm32_lib/src/stm32f10x_flash.c ****   * @brief FLASH driver modules
  30:../stm32_lib/src/stm32f10x_flash.c ****   * @{
  31:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  32:../stm32_lib/src/stm32f10x_flash.c **** 
  33:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_TypesDefinitions
  34:../stm32_lib/src/stm32f10x_flash.c ****   * @{
  35:../stm32_lib/src/stm32f10x_flash.c ****   */
  36:../stm32_lib/src/stm32f10x_flash.c **** 
  37:../stm32_lib/src/stm32f10x_flash.c **** /**
  38:../stm32_lib/src/stm32f10x_flash.c ****   * @}
  39:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  40:../stm32_lib/src/stm32f10x_flash.c **** 
  41:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Defines
  42:../stm32_lib/src/stm32f10x_flash.c ****   * @{
  43:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  44:../stm32_lib/src/stm32f10x_flash.c **** 
  45:../stm32_lib/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  46:../stm32_lib/src/stm32f10x_flash.c **** #define ACR_LATENCY_Mask         ((uint32_t)0x00000038)
  47:../stm32_lib/src/stm32f10x_flash.c **** #define ACR_HLFCYA_Mask          ((uint32_t)0xFFFFFFF7)
  48:../stm32_lib/src/stm32f10x_flash.c **** #define ACR_PRFTBE_Mask          ((uint32_t)0xFFFFFFEF)
  49:../stm32_lib/src/stm32f10x_flash.c **** 
  50:../stm32_lib/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  51:../stm32_lib/src/stm32f10x_flash.c **** #define ACR_PRFTBS_Mask          ((uint32_t)0x00000020) 
  52:../stm32_lib/src/stm32f10x_flash.c **** 
  53:../stm32_lib/src/stm32f10x_flash.c **** /* Flash Control Register bits */
  54:../stm32_lib/src/stm32f10x_flash.c **** #define CR_PG_Set                ((uint32_t)0x00000001)
  55:../stm32_lib/src/stm32f10x_flash.c **** #define CR_PG_Reset              ((uint32_t)0x00001FFE) 
  56:../stm32_lib/src/stm32f10x_flash.c **** #define CR_PER_Set               ((uint32_t)0x00000002)
  57:../stm32_lib/src/stm32f10x_flash.c **** #define CR_PER_Reset             ((uint32_t)0x00001FFD)
  58:../stm32_lib/src/stm32f10x_flash.c **** #define CR_MER_Set               ((uint32_t)0x00000004)
  59:../stm32_lib/src/stm32f10x_flash.c **** #define CR_MER_Reset             ((uint32_t)0x00001FFB)
  60:../stm32_lib/src/stm32f10x_flash.c **** #define CR_OPTPG_Set             ((uint32_t)0x00000010)
  61:../stm32_lib/src/stm32f10x_flash.c **** #define CR_OPTPG_Reset           ((uint32_t)0x00001FEF)
  62:../stm32_lib/src/stm32f10x_flash.c **** #define CR_OPTER_Set             ((uint32_t)0x00000020)
  63:../stm32_lib/src/stm32f10x_flash.c **** #define CR_OPTER_Reset           ((uint32_t)0x00001FDF)
  64:../stm32_lib/src/stm32f10x_flash.c **** #define CR_STRT_Set              ((uint32_t)0x00000040)
  65:../stm32_lib/src/stm32f10x_flash.c **** #define CR_LOCK_Set              ((uint32_t)0x00000080)
  66:../stm32_lib/src/stm32f10x_flash.c **** 
  67:../stm32_lib/src/stm32f10x_flash.c **** /* FLASH Mask */
  68:../stm32_lib/src/stm32f10x_flash.c **** #define RDPRT_Mask               ((uint32_t)0x00000002)
  69:../stm32_lib/src/stm32f10x_flash.c **** #define WRP0_Mask                ((uint32_t)0x000000FF)
  70:../stm32_lib/src/stm32f10x_flash.c **** #define WRP1_Mask                ((uint32_t)0x0000FF00)
  71:../stm32_lib/src/stm32f10x_flash.c **** #define WRP2_Mask                ((uint32_t)0x00FF0000)
  72:../stm32_lib/src/stm32f10x_flash.c **** #define WRP3_Mask                ((uint32_t)0xFF000000)
  73:../stm32_lib/src/stm32f10x_flash.c **** #define OB_USER_BFB2             ((uint16_t)0x0008)
  74:../stm32_lib/src/stm32f10x_flash.c **** 
  75:../stm32_lib/src/stm32f10x_flash.c **** /* FLASH Keys */
  76:../stm32_lib/src/stm32f10x_flash.c **** #define RDP_Key                  ((uint16_t)0x00A5)
  77:../stm32_lib/src/stm32f10x_flash.c **** #define FLASH_KEY1               ((uint32_t)0x45670123)
  78:../stm32_lib/src/stm32f10x_flash.c **** #define FLASH_KEY2               ((uint32_t)0xCDEF89AB)
  79:../stm32_lib/src/stm32f10x_flash.c **** 
  80:../stm32_lib/src/stm32f10x_flash.c **** /* FLASH BANK address */
  81:../stm32_lib/src/stm32f10x_flash.c **** #define FLASH_BANK1_END_ADDRESS   ((uint32_t)0x807FFFF)
  82:../stm32_lib/src/stm32f10x_flash.c **** 
  83:../stm32_lib/src/stm32f10x_flash.c **** /* Delay definition */   
  84:../stm32_lib/src/stm32f10x_flash.c **** #define EraseTimeout          ((uint32_t)0x000B0000)
  85:../stm32_lib/src/stm32f10x_flash.c **** #define ProgramTimeout        ((uint32_t)0x00002000)
  86:../stm32_lib/src/stm32f10x_flash.c **** /**
  87:../stm32_lib/src/stm32f10x_flash.c ****   * @}
  88:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  89:../stm32_lib/src/stm32f10x_flash.c **** 
  90:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Macros
  91:../stm32_lib/src/stm32f10x_flash.c ****   * @{
  92:../stm32_lib/src/stm32f10x_flash.c ****   */
  93:../stm32_lib/src/stm32f10x_flash.c **** 
  94:../stm32_lib/src/stm32f10x_flash.c **** /**
  95:../stm32_lib/src/stm32f10x_flash.c ****   * @}
  96:../stm32_lib/src/stm32f10x_flash.c ****   */ 
  97:../stm32_lib/src/stm32f10x_flash.c **** 
  98:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Variables
  99:../stm32_lib/src/stm32f10x_flash.c ****   * @{
 100:../stm32_lib/src/stm32f10x_flash.c ****   */
 101:../stm32_lib/src/stm32f10x_flash.c **** 
 102:../stm32_lib/src/stm32f10x_flash.c **** /**
 103:../stm32_lib/src/stm32f10x_flash.c ****   * @}
 104:../stm32_lib/src/stm32f10x_flash.c ****   */ 
 105:../stm32_lib/src/stm32f10x_flash.c **** 
 106:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_FunctionPrototypes
 107:../stm32_lib/src/stm32f10x_flash.c ****   * @{
 108:../stm32_lib/src/stm32f10x_flash.c ****   */
 109:../stm32_lib/src/stm32f10x_flash.c ****   
 110:../stm32_lib/src/stm32f10x_flash.c **** /**
 111:../stm32_lib/src/stm32f10x_flash.c ****   * @}
 112:../stm32_lib/src/stm32f10x_flash.c ****   */
 113:../stm32_lib/src/stm32f10x_flash.c **** 
 114:../stm32_lib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Functions
 115:../stm32_lib/src/stm32f10x_flash.c ****   * @{
 116:../stm32_lib/src/stm32f10x_flash.c ****   */
 117:../stm32_lib/src/stm32f10x_flash.c **** 
 118:../stm32_lib/src/stm32f10x_flash.c **** /**
 119:../stm32_lib/src/stm32f10x_flash.c **** @code  
 120:../stm32_lib/src/stm32f10x_flash.c ****  
 121:../stm32_lib/src/stm32f10x_flash.c ****  This driver provides functions to configure and program the Flash memory of all STM32F10x devices,
 122:../stm32_lib/src/stm32f10x_flash.c ****  including the latest STM32F10x_XL density devices. 
 123:../stm32_lib/src/stm32f10x_flash.c **** 
 124:../stm32_lib/src/stm32f10x_flash.c ****  STM32F10x_XL devices feature up to 1 Mbyte with dual bank architecture for read-while-write (RWW) 
 125:../stm32_lib/src/stm32f10x_flash.c ****     - bank1: fixed size of 512 Kbytes (256 pages of 2Kbytes each)
 126:../stm32_lib/src/stm32f10x_flash.c ****     - bank2: up to 512 Kbytes (up to 256 pages of 2Kbytes each)
 127:../stm32_lib/src/stm32f10x_flash.c ****  While other STM32F10x devices features only one bank with memory up to 512 Kbytes.
 128:../stm32_lib/src/stm32f10x_flash.c **** 
 129:../stm32_lib/src/stm32f10x_flash.c ****  In version V3.3.0, some functions were updated and new ones were added to support
 130:../stm32_lib/src/stm32f10x_flash.c ****  STM32F10x_XL devices. Thus some functions manages all devices, while other are 
 131:../stm32_lib/src/stm32f10x_flash.c ****  dedicated for XL devices only.
 132:../stm32_lib/src/stm32f10x_flash.c ****  
 133:../stm32_lib/src/stm32f10x_flash.c ****  The table below presents the list of available functions depending on the used STM32F10x devices. 
 134:../stm32_lib/src/stm32f10x_flash.c ****       
 135:../stm32_lib/src/stm32f10x_flash.c ****    ***************************************************
 136:../stm32_lib/src/stm32f10x_flash.c ****    * Legacy functions used for all STM32F10x devices *
 137:../stm32_lib/src/stm32f10x_flash.c ****    ***************************************************
 138:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 139:../stm32_lib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 140:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 141:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 142:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_SetLatency                    |    Yes     |      Yes      | No change                   
 143:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 144:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_HalfCycleAccessCmd            |    Yes     |      Yes      | No change                   
 145:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 146:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_PrefetchBufferCmd             |    Yes     |      Yes      | No change                   
 147:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 148:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_Unlock                        |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 149:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: unlock 
 150:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_UnlockBank1 funct
 151:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 152:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_Lock                          |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 153:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: lock Ba
 154:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_LockBank1 functio
 155:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 156:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ErasePage                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 157:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 158:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 159:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_EraseAllPages                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 160:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 161:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 162:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_EraseOptionBytes              |    Yes     |      Yes      | No change                   
 163:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 164:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ProgramWord                   |    Yes     |      Yes      | Updated to program up to 1MB
 165:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 166:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ProgramHalfWord               |    Yes     |      Yes      | Updated to program up to 1MB
 167:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 168:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ProgramOptionByteData         |    Yes     |      Yes      | No change                   
 169:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 170:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_EnableWriteProtection         |    Yes     |      Yes      | No change                   
 171:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 172:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ReadOutProtection             |    Yes     |      Yes      | No change                   
 173:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 174:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_UserOptionByteConfig          |    Yes     |      Yes      | No change                   
 175:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 176:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetUserOptionByte             |    Yes     |      Yes      | No change                   
 177:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 178:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetWriteProtectionOptionByte  |    Yes     |      Yes      | No change                   
 179:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 180:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetReadOutProtectionStatus    |    Yes     |      Yes      | No change                   
 181:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 182:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetPrefetchBufferStatus       |    Yes     |      Yes      | No change                   
 183:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 184:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ITConfig                      |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 185:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: enable 
 186:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 187:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetFlagStatus                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 188:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: return 
 189:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 190:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_ClearFlag                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 191:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: clear B
 192:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 193:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_GetStatus                     |    Yes     |      Yes      | - Return the status of Bank1
 194:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to FLASH_GetBan
 195:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 196:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_WaitForLastOperation          |    Yes     |      Yes      | - Wait for Bank1 last operat
 197:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to: FLASH_WaitF
 198:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 199:../stm32_lib/src/stm32f10x_flash.c **** 
 200:../stm32_lib/src/stm32f10x_flash.c ****    ************************************************************************************************
 201:../stm32_lib/src/stm32f10x_flash.c ****    * New functions used for all STM32F10x devices to manage Bank1:                                 
 202:../stm32_lib/src/stm32f10x_flash.c ****    *   - These functions are mainly useful for STM32F10x_XL density devices, to have separate contr
 203:../stm32_lib/src/stm32f10x_flash.c ****    *   - For other devices, these functions are optional (covered by functions listed above)       
 204:../stm32_lib/src/stm32f10x_flash.c ****    ************************************************************************************************
 205:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 206:../stm32_lib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 207:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 208:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 209:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_UnlockBank1                  |    Yes     |      Yes      | - Unlock Bank1              
 210:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 211:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_LockBank1                     |    Yes     |      Yes      | - Lock Bank1                
 212:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 213:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank1Pages           |    Yes     |      Yes      | - Erase all pages in Bank1  
 214:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 215:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_GetBank1Status               |    Yes     |      Yes      | - Return the status of Bank1
 216:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 217:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank1Operation    |    Yes     |      Yes      | - Wait for Bank1 last operat
 218:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 219:../stm32_lib/src/stm32f10x_flash.c **** 
 220:../stm32_lib/src/stm32f10x_flash.c ****    *****************************************************************************
 221:../stm32_lib/src/stm32f10x_flash.c ****    * New Functions used only with STM32F10x_XL density devices to manage Bank2 *
 222:../stm32_lib/src/stm32f10x_flash.c ****    *****************************************************************************
 223:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 224:../stm32_lib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 225:../stm32_lib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 226:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 227:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_UnlockBank2                  |    Yes     |      No       | - Unlock Bank2              
 228:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 229:../stm32_lib/src/stm32f10x_flash.c ****    |FLASH_LockBank2                     |    Yes     |      No       | - Lock Bank2                
 230:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 231:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank2Pages           |    Yes     |      No       | - Erase all pages in Bank2  
 232:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 233:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_GetBank2Status               |    Yes     |      No       | - Return the status of Bank2
 234:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 235:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank2Operation    |    Yes     |      No       | - Wait for Bank2 last operat
 236:../stm32_lib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 237:../stm32_lib/src/stm32f10x_flash.c ****    | FLASH_BootConfig                   |    Yes     |      No       | - Configure to boot from Ban
 238:../stm32_lib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 239:../stm32_lib/src/stm32f10x_flash.c **** @endcode
 240:../stm32_lib/src/stm32f10x_flash.c **** */
 241:../stm32_lib/src/stm32f10x_flash.c **** 
 242:../stm32_lib/src/stm32f10x_flash.c **** 
 243:../stm32_lib/src/stm32f10x_flash.c **** /**
 244:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Sets the code latency value.
 245:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 246:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_Latency: specifies the FLASH Latency value.
 247:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 248:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_0: FLASH Zero Latency cycle
 249:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_1: FLASH One Latency cycle
 250:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_2: FLASH Two Latency cycles
 251:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 252:../stm32_lib/src/stm32f10x_flash.c ****   */
 253:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_SetLatency(uint32_t FLASH_Latency)
 254:../stm32_lib/src/stm32f10x_flash.c **** {
  26              		.loc 1 254 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 16
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31 0000 80B4     		push	{r7}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 7, -4
  35 0002 85B0     		sub	sp, sp, #20
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 7860     		str	r0, [r7, #4]
 255:../stm32_lib/src/stm32f10x_flash.c ****   uint32_t tmpreg = 0;
  42              		.loc 1 255 0
  43 0008 4FF00003 		mov	r3, #0
  44 000c FB60     		str	r3, [r7, #12]
 256:../stm32_lib/src/stm32f10x_flash.c ****   
 257:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 258:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_LATENCY(FLASH_Latency));
 259:../stm32_lib/src/stm32f10x_flash.c ****   
 260:../stm32_lib/src/stm32f10x_flash.c ****   /* Read the ACR register */
 261:../stm32_lib/src/stm32f10x_flash.c ****   tmpreg = FLASH->ACR;  
  45              		.loc 1 261 0
  46 000e 4FF40053 		mov	r3, #8192
  47 0012 C4F20203 		movt	r3, 16386
  48 0016 1B68     		ldr	r3, [r3, #0]
  49 0018 FB60     		str	r3, [r7, #12]
 262:../stm32_lib/src/stm32f10x_flash.c ****   
 263:../stm32_lib/src/stm32f10x_flash.c ****   /* Sets the Latency value */
 264:../stm32_lib/src/stm32f10x_flash.c ****   tmpreg &= ACR_LATENCY_Mask;
  50              		.loc 1 264 0
  51 001a FB68     		ldr	r3, [r7, #12]
  52 001c 03F03803 		and	r3, r3, #56
  53 0020 FB60     		str	r3, [r7, #12]
 265:../stm32_lib/src/stm32f10x_flash.c ****   tmpreg |= FLASH_Latency;
  54              		.loc 1 265 0
  55 0022 FA68     		ldr	r2, [r7, #12]
  56 0024 7B68     		ldr	r3, [r7, #4]
  57 0026 1343     		orrs	r3, r3, r2
  58 0028 FB60     		str	r3, [r7, #12]
 266:../stm32_lib/src/stm32f10x_flash.c ****   
 267:../stm32_lib/src/stm32f10x_flash.c ****   /* Write the ACR register */
 268:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->ACR = tmpreg;
  59              		.loc 1 268 0
  60 002a 4FF40053 		mov	r3, #8192
  61 002e C4F20203 		movt	r3, 16386
  62 0032 FA68     		ldr	r2, [r7, #12]
  63 0034 1A60     		str	r2, [r3, #0]
 269:../stm32_lib/src/stm32f10x_flash.c **** }
  64              		.loc 1 269 0
  65 0036 07F11407 		add	r7, r7, #20
  66 003a BD46     		mov	sp, r7
  67 003c 80BC     		pop	{r7}
  68 003e 7047     		bx	lr
  69              		.cfi_endproc
  70              	.LFE29:
  72              		.align	2
  73              		.global	FLASH_HalfCycleAccessCmd
  74              		.thumb
  75              		.thumb_func
  77              	FLASH_HalfCycleAccessCmd:
  78              	.LFB30:
 270:../stm32_lib/src/stm32f10x_flash.c **** 
 271:../stm32_lib/src/stm32f10x_flash.c **** /**
 272:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Half cycle flash access.
 273:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 274:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_HalfCycleAccess: specifies the FLASH Half cycle Access mode.
 275:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 276:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Enable: FLASH Half Cycle Enable
 277:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Disable: FLASH Half Cycle Disable
 278:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 279:../stm32_lib/src/stm32f10x_flash.c ****   */
 280:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_HalfCycleAccessCmd(uint32_t FLASH_HalfCycleAccess)
 281:../stm32_lib/src/stm32f10x_flash.c **** {
  79              		.loc 1 281 0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 8
  82              		@ frame_needed = 1, uses_anonymous_args = 0
  83              		@ link register save eliminated.
  84 0040 80B4     		push	{r7}
  85              	.LCFI3:
  86              		.cfi_def_cfa_offset 4
  87              		.cfi_offset 7, -4
  88 0042 83B0     		sub	sp, sp, #12
  89              	.LCFI4:
  90              		.cfi_def_cfa_offset 16
  91 0044 00AF     		add	r7, sp, #0
  92              	.LCFI5:
  93              		.cfi_def_cfa_register 7
  94 0046 7860     		str	r0, [r7, #4]
 282:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 283:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_HALFCYCLEACCESS_STATE(FLASH_HalfCycleAccess));
 284:../stm32_lib/src/stm32f10x_flash.c ****   
 285:../stm32_lib/src/stm32f10x_flash.c ****   /* Enable or disable the Half cycle access */
 286:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_HLFCYA_Mask;
  95              		.loc 1 286 0
  96 0048 4FF40053 		mov	r3, #8192
  97 004c C4F20203 		movt	r3, 16386
  98 0050 4FF40052 		mov	r2, #8192
  99 0054 C4F20202 		movt	r2, 16386
 100 0058 1268     		ldr	r2, [r2, #0]
 101 005a 22F00802 		bic	r2, r2, #8
 102 005e 1A60     		str	r2, [r3, #0]
 287:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_HalfCycleAccess;
 103              		.loc 1 287 0
 104 0060 4FF40053 		mov	r3, #8192
 105 0064 C4F20203 		movt	r3, 16386
 106 0068 4FF40052 		mov	r2, #8192
 107 006c C4F20202 		movt	r2, 16386
 108 0070 1168     		ldr	r1, [r2, #0]
 109 0072 7A68     		ldr	r2, [r7, #4]
 110 0074 0A43     		orrs	r2, r2, r1
 111 0076 1A60     		str	r2, [r3, #0]
 288:../stm32_lib/src/stm32f10x_flash.c **** }
 112              		.loc 1 288 0
 113 0078 07F10C07 		add	r7, r7, #12
 114 007c BD46     		mov	sp, r7
 115 007e 80BC     		pop	{r7}
 116 0080 7047     		bx	lr
 117              		.cfi_endproc
 118              	.LFE30:
 120 0082 00BF     		.align	2
 121              		.global	FLASH_PrefetchBufferCmd
 122              		.thumb
 123              		.thumb_func
 125              	FLASH_PrefetchBufferCmd:
 126              	.LFB31:
 289:../stm32_lib/src/stm32f10x_flash.c **** 
 290:../stm32_lib/src/stm32f10x_flash.c **** /**
 291:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Prefetch Buffer.
 292:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 293:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_PrefetchBuffer: specifies the Prefetch buffer status.
 294:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 295:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Enable: FLASH Prefetch Buffer Enable
 296:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Disable: FLASH Prefetch Buffer Disable
 297:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 298:../stm32_lib/src/stm32f10x_flash.c ****   */
 299:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_PrefetchBufferCmd(uint32_t FLASH_PrefetchBuffer)
 300:../stm32_lib/src/stm32f10x_flash.c **** {
 127              		.loc 1 300 0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 8
 130              		@ frame_needed = 1, uses_anonymous_args = 0
 131              		@ link register save eliminated.
 132 0084 80B4     		push	{r7}
 133              	.LCFI6:
 134              		.cfi_def_cfa_offset 4
 135              		.cfi_offset 7, -4
 136 0086 83B0     		sub	sp, sp, #12
 137              	.LCFI7:
 138              		.cfi_def_cfa_offset 16
 139 0088 00AF     		add	r7, sp, #0
 140              	.LCFI8:
 141              		.cfi_def_cfa_register 7
 142 008a 7860     		str	r0, [r7, #4]
 301:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 302:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_PREFETCHBUFFER_STATE(FLASH_PrefetchBuffer));
 303:../stm32_lib/src/stm32f10x_flash.c ****   
 304:../stm32_lib/src/stm32f10x_flash.c ****   /* Enable or disable the Prefetch Buffer */
 305:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_PRFTBE_Mask;
 143              		.loc 1 305 0
 144 008c 4FF40053 		mov	r3, #8192
 145 0090 C4F20203 		movt	r3, 16386
 146 0094 4FF40052 		mov	r2, #8192
 147 0098 C4F20202 		movt	r2, 16386
 148 009c 1268     		ldr	r2, [r2, #0]
 149 009e 22F01002 		bic	r2, r2, #16
 150 00a2 1A60     		str	r2, [r3, #0]
 306:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_PrefetchBuffer;
 151              		.loc 1 306 0
 152 00a4 4FF40053 		mov	r3, #8192
 153 00a8 C4F20203 		movt	r3, 16386
 154 00ac 4FF40052 		mov	r2, #8192
 155 00b0 C4F20202 		movt	r2, 16386
 156 00b4 1168     		ldr	r1, [r2, #0]
 157 00b6 7A68     		ldr	r2, [r7, #4]
 158 00b8 0A43     		orrs	r2, r2, r1
 159 00ba 1A60     		str	r2, [r3, #0]
 307:../stm32_lib/src/stm32f10x_flash.c **** }
 160              		.loc 1 307 0
 161 00bc 07F10C07 		add	r7, r7, #12
 162 00c0 BD46     		mov	sp, r7
 163 00c2 80BC     		pop	{r7}
 164 00c4 7047     		bx	lr
 165              		.cfi_endproc
 166              	.LFE31:
 168 00c6 00BF     		.align	2
 169              		.global	FLASH_Unlock
 170              		.thumb
 171              		.thumb_func
 173              	FLASH_Unlock:
 174              	.LFB32:
 308:../stm32_lib/src/stm32f10x_flash.c **** 
 309:../stm32_lib/src/stm32f10x_flash.c **** /**
 310:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Program Erase Controller.
 311:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 312:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1 and Bank2.
 313:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is equivalent 
 314:../stm32_lib/src/stm32f10x_flash.c ****   *           to FLASH_UnlockBank1 function.. 
 315:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 316:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 317:../stm32_lib/src/stm32f10x_flash.c ****   */
 318:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_Unlock(void)
 319:../stm32_lib/src/stm32f10x_flash.c **** {
 175              		.loc 1 319 0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 1, uses_anonymous_args = 0
 179              		@ link register save eliminated.
 180 00c8 80B4     		push	{r7}
 181              	.LCFI9:
 182              		.cfi_def_cfa_offset 4
 183              		.cfi_offset 7, -4
 184 00ca 00AF     		add	r7, sp, #0
 185              	.LCFI10:
 186              		.cfi_def_cfa_register 7
 320:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 321:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 187              		.loc 1 321 0
 188 00cc 4FF40053 		mov	r3, #8192
 189 00d0 C4F20203 		movt	r3, 16386
 190 00d4 40F22312 		movw	r2, #291
 191 00d8 C4F26752 		movt	r2, 17767
 192 00dc 5A60     		str	r2, [r3, #4]
 322:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 193              		.loc 1 322 0
 194 00de 4FF40053 		mov	r3, #8192
 195 00e2 C4F20203 		movt	r3, 16386
 196 00e6 48F6AB12 		movw	r2, #35243
 197 00ea CCF6EF52 		movt	r2, 52719
 198 00ee 5A60     		str	r2, [r3, #4]
 323:../stm32_lib/src/stm32f10x_flash.c **** 
 324:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 325:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 326:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 327:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 328:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 329:../stm32_lib/src/stm32f10x_flash.c **** }
 199              		.loc 1 329 0
 200 00f0 BD46     		mov	sp, r7
 201 00f2 80BC     		pop	{r7}
 202 00f4 7047     		bx	lr
 203              		.cfi_endproc
 204              	.LFE32:
 206 00f6 00BF     		.align	2
 207              		.global	FLASH_UnlockBank1
 208              		.thumb
 209              		.thumb_func
 211              	FLASH_UnlockBank1:
 212              	.LFB33:
 330:../stm32_lib/src/stm32f10x_flash.c **** /**
 331:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank1 Program Erase Controller.
 332:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 333:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1.
 334:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is 
 335:../stm32_lib/src/stm32f10x_flash.c ****   *           equivalent to FLASH_Unlock function.
 336:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 337:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 338:../stm32_lib/src/stm32f10x_flash.c ****   */
 339:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_UnlockBank1(void)
 340:../stm32_lib/src/stm32f10x_flash.c **** {
 213              		.loc 1 340 0
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 1, uses_anonymous_args = 0
 217              		@ link register save eliminated.
 218 00f8 80B4     		push	{r7}
 219              	.LCFI11:
 220              		.cfi_def_cfa_offset 4
 221              		.cfi_offset 7, -4
 222 00fa 00AF     		add	r7, sp, #0
 223              	.LCFI12:
 224              		.cfi_def_cfa_register 7
 341:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 342:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 225              		.loc 1 342 0
 226 00fc 4FF40053 		mov	r3, #8192
 227 0100 C4F20203 		movt	r3, 16386
 228 0104 40F22312 		movw	r2, #291
 229 0108 C4F26752 		movt	r2, 17767
 230 010c 5A60     		str	r2, [r3, #4]
 343:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 231              		.loc 1 343 0
 232 010e 4FF40053 		mov	r3, #8192
 233 0112 C4F20203 		movt	r3, 16386
 234 0116 48F6AB12 		movw	r2, #35243
 235 011a CCF6EF52 		movt	r2, 52719
 236 011e 5A60     		str	r2, [r3, #4]
 344:../stm32_lib/src/stm32f10x_flash.c **** }
 237              		.loc 1 344 0
 238 0120 BD46     		mov	sp, r7
 239 0122 80BC     		pop	{r7}
 240 0124 7047     		bx	lr
 241              		.cfi_endproc
 242              	.LFE33:
 244 0126 00BF     		.align	2
 245              		.global	FLASH_Lock
 246              		.thumb
 247              		.thumb_func
 249              	FLASH_Lock:
 250              	.LFB34:
 345:../stm32_lib/src/stm32f10x_flash.c **** 
 346:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 347:../stm32_lib/src/stm32f10x_flash.c **** /**
 348:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank2 Program Erase Controller.
 349:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 350:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 351:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 352:../stm32_lib/src/stm32f10x_flash.c ****   */
 353:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_UnlockBank2(void)
 354:../stm32_lib/src/stm32f10x_flash.c **** {
 355:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 356:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 357:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 358:../stm32_lib/src/stm32f10x_flash.c **** 
 359:../stm32_lib/src/stm32f10x_flash.c **** }
 360:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 361:../stm32_lib/src/stm32f10x_flash.c **** 
 362:../stm32_lib/src/stm32f10x_flash.c **** /**
 363:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Program Erase Controller.
 364:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 365:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1 and Bank2.
 366:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 367:../stm32_lib/src/stm32f10x_flash.c ****   *           to FLASH_LockBank1 function.
 368:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 369:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 370:../stm32_lib/src/stm32f10x_flash.c ****   */
 371:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_Lock(void)
 372:../stm32_lib/src/stm32f10x_flash.c **** {
 251              		.loc 1 372 0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 1, uses_anonymous_args = 0
 255              		@ link register save eliminated.
 256 0128 80B4     		push	{r7}
 257              	.LCFI13:
 258              		.cfi_def_cfa_offset 4
 259              		.cfi_offset 7, -4
 260 012a 00AF     		add	r7, sp, #0
 261              	.LCFI14:
 262              		.cfi_def_cfa_register 7
 373:../stm32_lib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 374:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 263              		.loc 1 374 0
 264 012c 4FF40053 		mov	r3, #8192
 265 0130 C4F20203 		movt	r3, 16386
 266 0134 4FF40052 		mov	r2, #8192
 267 0138 C4F20202 		movt	r2, 16386
 268 013c 1269     		ldr	r2, [r2, #16]
 269 013e 42F08002 		orr	r2, r2, #128
 270 0142 1A61     		str	r2, [r3, #16]
 375:../stm32_lib/src/stm32f10x_flash.c **** 
 376:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 377:../stm32_lib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 378:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 379:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 380:../stm32_lib/src/stm32f10x_flash.c **** }
 271              		.loc 1 380 0
 272 0144 BD46     		mov	sp, r7
 273 0146 80BC     		pop	{r7}
 274 0148 7047     		bx	lr
 275              		.cfi_endproc
 276              	.LFE34:
 278 014a 00BF     		.align	2
 279              		.global	FLASH_LockBank1
 280              		.thumb
 281              		.thumb_func
 283              	FLASH_LockBank1:
 284              	.LFB35:
 381:../stm32_lib/src/stm32f10x_flash.c **** 
 382:../stm32_lib/src/stm32f10x_flash.c **** /**
 383:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank1 Program Erase Controller.
 384:../stm32_lib/src/stm32f10x_flash.c ****   * @note   this function can be used for all STM32F10x devices.
 385:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1.
 386:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 387:../stm32_lib/src/stm32f10x_flash.c ****   *           to FLASH_Lock function.
 388:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 389:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 390:../stm32_lib/src/stm32f10x_flash.c ****   */
 391:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_LockBank1(void)
 392:../stm32_lib/src/stm32f10x_flash.c **** {
 285              		.loc 1 392 0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 1, uses_anonymous_args = 0
 289              		@ link register save eliminated.
 290 014c 80B4     		push	{r7}
 291              	.LCFI15:
 292              		.cfi_def_cfa_offset 4
 293              		.cfi_offset 7, -4
 294 014e 00AF     		add	r7, sp, #0
 295              	.LCFI16:
 296              		.cfi_def_cfa_register 7
 393:../stm32_lib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 394:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 297              		.loc 1 394 0
 298 0150 4FF40053 		mov	r3, #8192
 299 0154 C4F20203 		movt	r3, 16386
 300 0158 4FF40052 		mov	r2, #8192
 301 015c C4F20202 		movt	r2, 16386
 302 0160 1269     		ldr	r2, [r2, #16]
 303 0162 42F08002 		orr	r2, r2, #128
 304 0166 1A61     		str	r2, [r3, #16]
 395:../stm32_lib/src/stm32f10x_flash.c **** }
 305              		.loc 1 395 0
 306 0168 BD46     		mov	sp, r7
 307 016a 80BC     		pop	{r7}
 308 016c 7047     		bx	lr
 309              		.cfi_endproc
 310              	.LFE35:
 312 016e 00BF     		.align	2
 313              		.global	FLASH_ErasePage
 314              		.thumb
 315              		.thumb_func
 317              	FLASH_ErasePage:
 318              	.LFB36:
 396:../stm32_lib/src/stm32f10x_flash.c **** 
 397:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 398:../stm32_lib/src/stm32f10x_flash.c **** /**
 399:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank2 Program Erase Controller.
 400:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 401:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 402:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
 403:../stm32_lib/src/stm32f10x_flash.c ****   */
 404:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_LockBank2(void)
 405:../stm32_lib/src/stm32f10x_flash.c **** {
 406:../stm32_lib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 407:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 408:../stm32_lib/src/stm32f10x_flash.c **** }
 409:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 410:../stm32_lib/src/stm32f10x_flash.c **** 
 411:../stm32_lib/src/stm32f10x_flash.c **** /**
 412:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Erases a specified FLASH page.
 413:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 414:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Page_Address: The page address to be erased.
 415:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
 416:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 417:../stm32_lib/src/stm32f10x_flash.c ****   */
 418:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ErasePage(uint32_t Page_Address)
 419:../stm32_lib/src/stm32f10x_flash.c **** {
 319              		.loc 1 419 0
 320              		.cfi_startproc
 321              		@ args = 0, pretend = 0, frame = 16
 322              		@ frame_needed = 1, uses_anonymous_args = 0
 323 0170 80B5     		push	{r7, lr}
 324              	.LCFI17:
 325              		.cfi_def_cfa_offset 8
 326              		.cfi_offset 14, -4
 327              		.cfi_offset 7, -8
 328 0172 84B0     		sub	sp, sp, #16
 329              	.LCFI18:
 330              		.cfi_def_cfa_offset 24
 331 0174 00AF     		add	r7, sp, #0
 332              	.LCFI19:
 333              		.cfi_def_cfa_register 7
 334 0176 7860     		str	r0, [r7, #4]
 420:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 335              		.loc 1 420 0
 336 0178 4FF00403 		mov	r3, #4
 337 017c FB73     		strb	r3, [r7, #15]
 421:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 422:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Page_Address));
 423:../stm32_lib/src/stm32f10x_flash.c **** 
 424:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 425:../stm32_lib/src/stm32f10x_flash.c ****   if(Page_Address < FLASH_BANK1_END_ADDRESS)  
 426:../stm32_lib/src/stm32f10x_flash.c ****   {
 427:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 428:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 429:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 430:../stm32_lib/src/stm32f10x_flash.c ****     { 
 431:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 432:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR|= CR_PER_Set;
 433:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->AR = Page_Address; 
 434:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR|= CR_STRT_Set;
 435:../stm32_lib/src/stm32f10x_flash.c ****     
 436:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 437:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 438:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 439:../stm32_lib/src/stm32f10x_flash.c ****       {
 440:../stm32_lib/src/stm32f10x_flash.c ****         /* if the erase operation is completed, disable the PER Bit */
 441:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PER_Reset;
 442:../stm32_lib/src/stm32f10x_flash.c ****       }
 443:../stm32_lib/src/stm32f10x_flash.c ****     }
 444:../stm32_lib/src/stm32f10x_flash.c ****   }
 445:../stm32_lib/src/stm32f10x_flash.c ****   else
 446:../stm32_lib/src/stm32f10x_flash.c ****   {
 447:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 448:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 449:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 450:../stm32_lib/src/stm32f10x_flash.c ****     { 
 451:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 452:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_PER_Set;
 453:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->AR2 = Page_Address; 
 454:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_STRT_Set;
 455:../stm32_lib/src/stm32f10x_flash.c ****     
 456:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 457:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 458:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 459:../stm32_lib/src/stm32f10x_flash.c ****       {
 460:../stm32_lib/src/stm32f10x_flash.c ****         /* if the erase operation is completed, disable the PER Bit */
 461:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PER_Reset;
 462:../stm32_lib/src/stm32f10x_flash.c ****       }
 463:../stm32_lib/src/stm32f10x_flash.c ****     }
 464:../stm32_lib/src/stm32f10x_flash.c ****   }
 465:../stm32_lib/src/stm32f10x_flash.c **** #else
 466:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 467:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 338              		.loc 1 467 0
 339 017e 4FF43020 		mov	r0, #720896
 340 0182 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 341 0186 0346     		mov	r3, r0
 342 0188 FB73     		strb	r3, [r7, #15]
 468:../stm32_lib/src/stm32f10x_flash.c ****   
 469:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 343              		.loc 1 469 0
 344 018a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 345 018c 042B     		cmp	r3, #4
 346 018e 33D1     		bne	.L9
 470:../stm32_lib/src/stm32f10x_flash.c ****   { 
 471:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the page */
 472:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_PER_Set;
 347              		.loc 1 472 0
 348 0190 4FF40053 		mov	r3, #8192
 349 0194 C4F20203 		movt	r3, 16386
 350 0198 4FF40052 		mov	r2, #8192
 351 019c C4F20202 		movt	r2, 16386
 352 01a0 1269     		ldr	r2, [r2, #16]
 353 01a2 42F00202 		orr	r2, r2, #2
 354 01a6 1A61     		str	r2, [r3, #16]
 473:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->AR = Page_Address; 
 355              		.loc 1 473 0
 356 01a8 4FF40053 		mov	r3, #8192
 357 01ac C4F20203 		movt	r3, 16386
 358 01b0 7A68     		ldr	r2, [r7, #4]
 359 01b2 5A61     		str	r2, [r3, #20]
 474:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_STRT_Set;
 360              		.loc 1 474 0
 361 01b4 4FF40053 		mov	r3, #8192
 362 01b8 C4F20203 		movt	r3, 16386
 363 01bc 4FF40052 		mov	r2, #8192
 364 01c0 C4F20202 		movt	r2, 16386
 365 01c4 1269     		ldr	r2, [r2, #16]
 366 01c6 42F04002 		orr	r2, r2, #64
 367 01ca 1A61     		str	r2, [r3, #16]
 475:../stm32_lib/src/stm32f10x_flash.c ****     
 476:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 477:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 368              		.loc 1 477 0
 369 01cc 4FF43020 		mov	r0, #720896
 370 01d0 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 371 01d4 0346     		mov	r3, r0
 372 01d6 FB73     		strb	r3, [r7, #15]
 478:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 373              		.loc 1 478 0
 374 01d8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 375 01da 052B     		cmp	r3, #5
 376 01dc 0CD0     		beq	.L9
 479:../stm32_lib/src/stm32f10x_flash.c ****     {
 480:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the PER Bit */
 481:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PER_Reset;
 377              		.loc 1 481 0
 378 01de 4FF40053 		mov	r3, #8192
 379 01e2 C4F20203 		movt	r3, 16386
 380 01e6 4FF40052 		mov	r2, #8192
 381 01ea C4F20202 		movt	r2, 16386
 382 01ee 1169     		ldr	r1, [r2, #16]
 383 01f0 41F6FD72 		movw	r2, #8189
 384 01f4 0A40     		ands	r2, r2, r1
 385 01f6 1A61     		str	r2, [r3, #16]
 386              	.L9:
 482:../stm32_lib/src/stm32f10x_flash.c ****     }
 483:../stm32_lib/src/stm32f10x_flash.c ****   }
 484:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 485:../stm32_lib/src/stm32f10x_flash.c **** 
 486:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 487:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 387              		.loc 1 487 0
 388 01f8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 488:../stm32_lib/src/stm32f10x_flash.c **** }
 389              		.loc 1 488 0
 390 01fa 1846     		mov	r0, r3
 391 01fc 07F11007 		add	r7, r7, #16
 392 0200 BD46     		mov	sp, r7
 393 0202 80BD     		pop	{r7, pc}
 394              		.cfi_endproc
 395              	.LFE36:
 397              		.align	2
 398              		.global	FLASH_EraseAllPages
 399              		.thumb
 400              		.thumb_func
 402              	FLASH_EraseAllPages:
 403              	.LFB37:
 489:../stm32_lib/src/stm32f10x_flash.c **** 
 490:../stm32_lib/src/stm32f10x_flash.c **** /**
 491:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Erases all FLASH pages.
 492:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 493:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 494:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 495:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 496:../stm32_lib/src/stm32f10x_flash.c ****   */
 497:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllPages(void)
 498:../stm32_lib/src/stm32f10x_flash.c **** {
 404              		.loc 1 498 0
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 8
 407              		@ frame_needed = 1, uses_anonymous_args = 0
 408 0204 80B5     		push	{r7, lr}
 409              	.LCFI20:
 410              		.cfi_def_cfa_offset 8
 411              		.cfi_offset 14, -4
 412              		.cfi_offset 7, -8
 413 0206 82B0     		sub	sp, sp, #8
 414              	.LCFI21:
 415              		.cfi_def_cfa_offset 16
 416 0208 00AF     		add	r7, sp, #0
 417              	.LCFI22:
 418              		.cfi_def_cfa_register 7
 499:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 419              		.loc 1 499 0
 420 020a 4FF00403 		mov	r3, #4
 421 020e FB71     		strb	r3, [r7, #7]
 500:../stm32_lib/src/stm32f10x_flash.c **** 
 501:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 502:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 503:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 504:../stm32_lib/src/stm32f10x_flash.c ****   
 505:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 506:../stm32_lib/src/stm32f10x_flash.c ****   {
 507:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 508:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 509:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 510:../stm32_lib/src/stm32f10x_flash.c ****     
 511:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 512:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 513:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 514:../stm32_lib/src/stm32f10x_flash.c ****     {
 515:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the MER Bit */
 516:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_MER_Reset;
 517:../stm32_lib/src/stm32f10x_flash.c ****     }
 518:../stm32_lib/src/stm32f10x_flash.c ****   }    
 519:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 520:../stm32_lib/src/stm32f10x_flash.c ****   {
 521:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 522:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 523:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 524:../stm32_lib/src/stm32f10x_flash.c ****     
 525:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 526:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 527:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 528:../stm32_lib/src/stm32f10x_flash.c ****     {
 529:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the MER Bit */
 530:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_MER_Reset;
 531:../stm32_lib/src/stm32f10x_flash.c ****     }
 532:../stm32_lib/src/stm32f10x_flash.c ****   }
 533:../stm32_lib/src/stm32f10x_flash.c **** #else
 534:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 535:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 422              		.loc 1 535 0
 423 0210 4FF43020 		mov	r0, #720896
 424 0214 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 425 0218 0346     		mov	r3, r0
 426 021a FB71     		strb	r3, [r7, #7]
 536:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 427              		.loc 1 536 0
 428 021c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 429 021e 042B     		cmp	r3, #4
 430 0220 2DD1     		bne	.L11
 537:../stm32_lib/src/stm32f10x_flash.c ****   {
 538:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 539:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 431              		.loc 1 539 0
 432 0222 4FF40053 		mov	r3, #8192
 433 0226 C4F20203 		movt	r3, 16386
 434 022a 4FF40052 		mov	r2, #8192
 435 022e C4F20202 		movt	r2, 16386
 436 0232 1269     		ldr	r2, [r2, #16]
 437 0234 42F00402 		orr	r2, r2, #4
 438 0238 1A61     		str	r2, [r3, #16]
 540:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 439              		.loc 1 540 0
 440 023a 4FF40053 		mov	r3, #8192
 441 023e C4F20203 		movt	r3, 16386
 442 0242 4FF40052 		mov	r2, #8192
 443 0246 C4F20202 		movt	r2, 16386
 444 024a 1269     		ldr	r2, [r2, #16]
 445 024c 42F04002 		orr	r2, r2, #64
 446 0250 1A61     		str	r2, [r3, #16]
 541:../stm32_lib/src/stm32f10x_flash.c ****     
 542:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 543:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 447              		.loc 1 543 0
 448 0252 4FF43020 		mov	r0, #720896
 449 0256 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 450 025a 0346     		mov	r3, r0
 451 025c FB71     		strb	r3, [r7, #7]
 544:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 452              		.loc 1 544 0
 453 025e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 454 0260 052B     		cmp	r3, #5
 455 0262 0CD0     		beq	.L11
 545:../stm32_lib/src/stm32f10x_flash.c ****     {
 546:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the MER Bit */
 547:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_MER_Reset;
 456              		.loc 1 547 0
 457 0264 4FF40053 		mov	r3, #8192
 458 0268 C4F20203 		movt	r3, 16386
 459 026c 4FF40052 		mov	r2, #8192
 460 0270 C4F20202 		movt	r2, 16386
 461 0274 1169     		ldr	r1, [r2, #16]
 462 0276 41F6FB72 		movw	r2, #8187
 463 027a 0A40     		ands	r2, r2, r1
 464 027c 1A61     		str	r2, [r3, #16]
 465              	.L11:
 548:../stm32_lib/src/stm32f10x_flash.c ****     }
 549:../stm32_lib/src/stm32f10x_flash.c ****   }
 550:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 551:../stm32_lib/src/stm32f10x_flash.c **** 
 552:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 553:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 466              		.loc 1 553 0
 467 027e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 554:../stm32_lib/src/stm32f10x_flash.c **** }
 468              		.loc 1 554 0
 469 0280 1846     		mov	r0, r3
 470 0282 07F10807 		add	r7, r7, #8
 471 0286 BD46     		mov	sp, r7
 472 0288 80BD     		pop	{r7, pc}
 473              		.cfi_endproc
 474              	.LFE37:
 476 028a 00BF     		.align	2
 477              		.global	FLASH_EraseAllBank1Pages
 478              		.thumb
 479              		.thumb_func
 481              	FLASH_EraseAllBank1Pages:
 482              	.LFB38:
 555:../stm32_lib/src/stm32f10x_flash.c **** 
 556:../stm32_lib/src/stm32f10x_flash.c **** /**
 557:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Erases all Bank1 FLASH pages.
 558:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 559:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function erases all Bank1 pages.
 560:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it erases all Bank1 pages and it is equivalent 
 561:../stm32_lib/src/stm32f10x_flash.c ****   *           to FLASH_EraseAllPages function.
 562:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 563:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 564:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 565:../stm32_lib/src/stm32f10x_flash.c ****   */
 566:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank1Pages(void)
 567:../stm32_lib/src/stm32f10x_flash.c **** {
 483              		.loc 1 567 0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 8
 486              		@ frame_needed = 1, uses_anonymous_args = 0
 487 028c 80B5     		push	{r7, lr}
 488              	.LCFI23:
 489              		.cfi_def_cfa_offset 8
 490              		.cfi_offset 14, -4
 491              		.cfi_offset 7, -8
 492 028e 82B0     		sub	sp, sp, #8
 493              	.LCFI24:
 494              		.cfi_def_cfa_offset 16
 495 0290 00AF     		add	r7, sp, #0
 496              	.LCFI25:
 497              		.cfi_def_cfa_register 7
 568:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 498              		.loc 1 568 0
 499 0292 4FF00403 		mov	r3, #4
 500 0296 FB71     		strb	r3, [r7, #7]
 569:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 570:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 501              		.loc 1 570 0
 502 0298 4FF43020 		mov	r0, #720896
 503 029c FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 504 02a0 0346     		mov	r3, r0
 505 02a2 FB71     		strb	r3, [r7, #7]
 571:../stm32_lib/src/stm32f10x_flash.c ****   
 572:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 506              		.loc 1 572 0
 507 02a4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 508 02a6 042B     		cmp	r3, #4
 509 02a8 2DD1     		bne	.L13
 573:../stm32_lib/src/stm32f10x_flash.c ****   {
 574:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 575:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 510              		.loc 1 575 0
 511 02aa 4FF40053 		mov	r3, #8192
 512 02ae C4F20203 		movt	r3, 16386
 513 02b2 4FF40052 		mov	r2, #8192
 514 02b6 C4F20202 		movt	r2, 16386
 515 02ba 1269     		ldr	r2, [r2, #16]
 516 02bc 42F00402 		orr	r2, r2, #4
 517 02c0 1A61     		str	r2, [r3, #16]
 576:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 518              		.loc 1 576 0
 519 02c2 4FF40053 		mov	r3, #8192
 520 02c6 C4F20203 		movt	r3, 16386
 521 02ca 4FF40052 		mov	r2, #8192
 522 02ce C4F20202 		movt	r2, 16386
 523 02d2 1269     		ldr	r2, [r2, #16]
 524 02d4 42F04002 		orr	r2, r2, #64
 525 02d8 1A61     		str	r2, [r3, #16]
 577:../stm32_lib/src/stm32f10x_flash.c ****     
 578:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 579:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 526              		.loc 1 579 0
 527 02da 4FF43020 		mov	r0, #720896
 528 02de FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 529 02e2 0346     		mov	r3, r0
 530 02e4 FB71     		strb	r3, [r7, #7]
 580:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 531              		.loc 1 580 0
 532 02e6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 533 02e8 052B     		cmp	r3, #5
 534 02ea 0CD0     		beq	.L13
 581:../stm32_lib/src/stm32f10x_flash.c ****     {
 582:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the MER Bit */
 583:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_MER_Reset;
 535              		.loc 1 583 0
 536 02ec 4FF40053 		mov	r3, #8192
 537 02f0 C4F20203 		movt	r3, 16386
 538 02f4 4FF40052 		mov	r2, #8192
 539 02f8 C4F20202 		movt	r2, 16386
 540 02fc 1169     		ldr	r1, [r2, #16]
 541 02fe 41F6FB72 		movw	r2, #8187
 542 0302 0A40     		ands	r2, r2, r1
 543 0304 1A61     		str	r2, [r3, #16]
 544              	.L13:
 584:../stm32_lib/src/stm32f10x_flash.c ****     }
 585:../stm32_lib/src/stm32f10x_flash.c ****   }    
 586:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 587:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 545              		.loc 1 587 0
 546 0306 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 588:../stm32_lib/src/stm32f10x_flash.c **** }
 547              		.loc 1 588 0
 548 0308 1846     		mov	r0, r3
 549 030a 07F10807 		add	r7, r7, #8
 550 030e BD46     		mov	sp, r7
 551 0310 80BD     		pop	{r7, pc}
 552              		.cfi_endproc
 553              	.LFE38:
 555 0312 00BF     		.align	2
 556              		.global	FLASH_EraseOptionBytes
 557              		.thumb
 558              		.thumb_func
 560              	FLASH_EraseOptionBytes:
 561              	.LFB39:
 589:../stm32_lib/src/stm32f10x_flash.c **** 
 590:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 591:../stm32_lib/src/stm32f10x_flash.c **** /**
 592:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Erases all Bank2 FLASH pages.
 593:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
 594:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 595:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 596:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 597:../stm32_lib/src/stm32f10x_flash.c ****   */
 598:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank2Pages(void)
 599:../stm32_lib/src/stm32f10x_flash.c **** {
 600:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 601:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 602:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 603:../stm32_lib/src/stm32f10x_flash.c ****   
 604:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 605:../stm32_lib/src/stm32f10x_flash.c ****   {
 606:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 607:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 608:../stm32_lib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 609:../stm32_lib/src/stm32f10x_flash.c ****     
 610:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 611:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 612:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 613:../stm32_lib/src/stm32f10x_flash.c ****     {
 614:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the MER Bit */
 615:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_MER_Reset;
 616:../stm32_lib/src/stm32f10x_flash.c ****     }
 617:../stm32_lib/src/stm32f10x_flash.c ****   }    
 618:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 619:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 620:../stm32_lib/src/stm32f10x_flash.c **** }
 621:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 622:../stm32_lib/src/stm32f10x_flash.c **** 
 623:../stm32_lib/src/stm32f10x_flash.c **** /**
 624:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Erases the FLASH option bytes.
 625:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This functions erases all option bytes except the Read protection (RDP). 
 626:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 627:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
 628:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 629:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 630:../stm32_lib/src/stm32f10x_flash.c ****   */
 631:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseOptionBytes(void)
 632:../stm32_lib/src/stm32f10x_flash.c **** {
 562              		.loc 1 632 0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 8
 565              		@ frame_needed = 1, uses_anonymous_args = 0
 566 0314 80B5     		push	{r7, lr}
 567              	.LCFI26:
 568              		.cfi_def_cfa_offset 8
 569              		.cfi_offset 14, -4
 570              		.cfi_offset 7, -8
 571 0316 82B0     		sub	sp, sp, #8
 572              	.LCFI27:
 573              		.cfi_def_cfa_offset 16
 574 0318 00AF     		add	r7, sp, #0
 575              	.LCFI28:
 576              		.cfi_def_cfa_register 7
 633:../stm32_lib/src/stm32f10x_flash.c ****   uint16_t rdptmp = RDP_Key;
 577              		.loc 1 633 0
 578 031a 4FF0A503 		mov	r3, #165
 579 031e FB80     		strh	r3, [r7, #6]	@ movhi
 634:../stm32_lib/src/stm32f10x_flash.c **** 
 635:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 580              		.loc 1 635 0
 581 0320 4FF00403 		mov	r3, #4
 582 0324 7B71     		strb	r3, [r7, #5]
 636:../stm32_lib/src/stm32f10x_flash.c **** 
 637:../stm32_lib/src/stm32f10x_flash.c ****   /* Get the actual read protection Option Byte value */ 
 638:../stm32_lib/src/stm32f10x_flash.c ****   if(FLASH_GetReadOutProtectionStatus() != RESET)
 583              		.loc 1 638 0
 584 0326 FFF7FEFF 		bl	FLASH_GetReadOutProtectionStatus
 585 032a 0346     		mov	r3, r0
 586 032c 002B     		cmp	r3, #0
 587 032e 02D0     		beq	.L15
 639:../stm32_lib/src/stm32f10x_flash.c ****   {
 640:../stm32_lib/src/stm32f10x_flash.c ****     rdptmp = 0x00;  
 588              		.loc 1 640 0
 589 0330 4FF00003 		mov	r3, #0
 590 0334 FB80     		strh	r3, [r7, #6]	@ movhi
 591              	.L15:
 641:../stm32_lib/src/stm32f10x_flash.c ****   }
 642:../stm32_lib/src/stm32f10x_flash.c **** 
 643:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 644:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 592              		.loc 1 644 0
 593 0336 4FF43020 		mov	r0, #720896
 594 033a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 595 033e 0346     		mov	r3, r0
 596 0340 7B71     		strb	r3, [r7, #5]
 645:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 597              		.loc 1 645 0
 598 0342 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 599 0344 042B     		cmp	r3, #4
 600 0346 78D1     		bne	.L16
 646:../stm32_lib/src/stm32f10x_flash.c ****   {
 647:../stm32_lib/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 648:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 601              		.loc 1 648 0
 602 0348 4FF40053 		mov	r3, #8192
 603 034c C4F20203 		movt	r3, 16386
 604 0350 40F22312 		movw	r2, #291
 605 0354 C4F26752 		movt	r2, 17767
 606 0358 9A60     		str	r2, [r3, #8]
 649:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 607              		.loc 1 649 0
 608 035a 4FF40053 		mov	r3, #8192
 609 035e C4F20203 		movt	r3, 16386
 610 0362 48F6AB12 		movw	r2, #35243
 611 0366 CCF6EF52 		movt	r2, 52719
 612 036a 9A60     		str	r2, [r3, #8]
 650:../stm32_lib/src/stm32f10x_flash.c ****     
 651:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the option bytes */
 652:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 613              		.loc 1 652 0
 614 036c 4FF40053 		mov	r3, #8192
 615 0370 C4F20203 		movt	r3, 16386
 616 0374 4FF40052 		mov	r2, #8192
 617 0378 C4F20202 		movt	r2, 16386
 618 037c 1269     		ldr	r2, [r2, #16]
 619 037e 42F02002 		orr	r2, r2, #32
 620 0382 1A61     		str	r2, [r3, #16]
 653:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 621              		.loc 1 653 0
 622 0384 4FF40053 		mov	r3, #8192
 623 0388 C4F20203 		movt	r3, 16386
 624 038c 4FF40052 		mov	r2, #8192
 625 0390 C4F20202 		movt	r2, 16386
 626 0394 1269     		ldr	r2, [r2, #16]
 627 0396 42F04002 		orr	r2, r2, #64
 628 039a 1A61     		str	r2, [r3, #16]
 654:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 655:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 629              		.loc 1 655 0
 630 039c 4FF43020 		mov	r0, #720896
 631 03a0 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 632 03a4 0346     		mov	r3, r0
 633 03a6 7B71     		strb	r3, [r7, #5]
 656:../stm32_lib/src/stm32f10x_flash.c ****     
 657:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 634              		.loc 1 657 0
 635 03a8 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 636 03aa 042B     		cmp	r3, #4
 637 03ac 35D1     		bne	.L17
 658:../stm32_lib/src/stm32f10x_flash.c ****     {
 659:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
 660:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 638              		.loc 1 660 0
 639 03ae 4FF40053 		mov	r3, #8192
 640 03b2 C4F20203 		movt	r3, 16386
 641 03b6 4FF40052 		mov	r2, #8192
 642 03ba C4F20202 		movt	r2, 16386
 643 03be 1169     		ldr	r1, [r2, #16]
 644 03c0 41F6DF72 		movw	r2, #8159
 645 03c4 0A40     		ands	r2, r2, r1
 646 03c6 1A61     		str	r2, [r3, #16]
 661:../stm32_lib/src/stm32f10x_flash.c ****        
 662:../stm32_lib/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
 663:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set;
 647              		.loc 1 663 0
 648 03c8 4FF40053 		mov	r3, #8192
 649 03cc C4F20203 		movt	r3, 16386
 650 03d0 4FF40052 		mov	r2, #8192
 651 03d4 C4F20202 		movt	r2, 16386
 652 03d8 1269     		ldr	r2, [r2, #16]
 653 03da 42F01002 		orr	r2, r2, #16
 654 03de 1A61     		str	r2, [r3, #16]
 664:../stm32_lib/src/stm32f10x_flash.c ****       /* Restore the last read protection Option Byte value */
 665:../stm32_lib/src/stm32f10x_flash.c ****       OB->RDP = (uint16_t)rdptmp; 
 655              		.loc 1 665 0
 656 03e0 4FF47843 		mov	r3, #63488
 657 03e4 C1F6FF73 		movt	r3, 8191
 658 03e8 FA88     		ldrh	r2, [r7, #6]	@ movhi
 659 03ea 1A80     		strh	r2, [r3, #0]	@ movhi
 666:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 667:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 660              		.loc 1 667 0
 661 03ec 4FF40050 		mov	r0, #8192
 662 03f0 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 663 03f4 0346     		mov	r3, r0
 664 03f6 7B71     		strb	r3, [r7, #5]
 668:../stm32_lib/src/stm32f10x_flash.c ****  
 669:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 665              		.loc 1 669 0
 666 03f8 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 667 03fa 052B     		cmp	r3, #5
 668 03fc 1DD0     		beq	.L16
 670:../stm32_lib/src/stm32f10x_flash.c ****       {
 671:../stm32_lib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
 672:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 669              		.loc 1 672 0
 670 03fe 4FF40053 		mov	r3, #8192
 671 0402 C4F20203 		movt	r3, 16386
 672 0406 4FF40052 		mov	r2, #8192
 673 040a C4F20202 		movt	r2, 16386
 674 040e 1169     		ldr	r1, [r2, #16]
 675 0410 41F6EF72 		movw	r2, #8175
 676 0414 0A40     		ands	r2, r2, r1
 677 0416 1A61     		str	r2, [r3, #16]
 678 0418 0FE0     		b	.L16
 679              	.L17:
 673:../stm32_lib/src/stm32f10x_flash.c ****       }
 674:../stm32_lib/src/stm32f10x_flash.c ****     }
 675:../stm32_lib/src/stm32f10x_flash.c ****     else
 676:../stm32_lib/src/stm32f10x_flash.c ****     {
 677:../stm32_lib/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 680              		.loc 1 677 0
 681 041a 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 682 041c 052B     		cmp	r3, #5
 683 041e 0CD0     		beq	.L16
 678:../stm32_lib/src/stm32f10x_flash.c ****       {
 679:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the OPTPG Bit */
 680:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 684              		.loc 1 680 0
 685 0420 4FF40053 		mov	r3, #8192
 686 0424 C4F20203 		movt	r3, 16386
 687 0428 4FF40052 		mov	r2, #8192
 688 042c C4F20202 		movt	r2, 16386
 689 0430 1169     		ldr	r1, [r2, #16]
 690 0432 41F6EF72 		movw	r2, #8175
 691 0436 0A40     		ands	r2, r2, r1
 692 0438 1A61     		str	r2, [r3, #16]
 693              	.L16:
 681:../stm32_lib/src/stm32f10x_flash.c ****       }
 682:../stm32_lib/src/stm32f10x_flash.c ****     }  
 683:../stm32_lib/src/stm32f10x_flash.c ****   }
 684:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the erase status */
 685:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 694              		.loc 1 685 0
 695 043a 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 686:../stm32_lib/src/stm32f10x_flash.c **** }
 696              		.loc 1 686 0
 697 043c 1846     		mov	r0, r3
 698 043e 07F10807 		add	r7, r7, #8
 699 0442 BD46     		mov	sp, r7
 700 0444 80BD     		pop	{r7, pc}
 701              		.cfi_endproc
 702              	.LFE39:
 704 0446 00BF     		.align	2
 705              		.global	FLASH_ProgramWord
 706              		.thumb
 707              		.thumb_func
 709              	FLASH_ProgramWord:
 710              	.LFB40:
 687:../stm32_lib/src/stm32f10x_flash.c **** 
 688:../stm32_lib/src/stm32f10x_flash.c **** /**
 689:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Programs a word at a specified address.
 690:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 691:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 692:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 693:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 694:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 695:../stm32_lib/src/stm32f10x_flash.c ****   */
 696:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramWord(uint32_t Address, uint32_t Data)
 697:../stm32_lib/src/stm32f10x_flash.c **** {
 711              		.loc 1 697 0
 712              		.cfi_startproc
 713              		@ args = 0, pretend = 0, frame = 16
 714              		@ frame_needed = 1, uses_anonymous_args = 0
 715 0448 80B5     		push	{r7, lr}
 716              	.LCFI29:
 717              		.cfi_def_cfa_offset 8
 718              		.cfi_offset 14, -4
 719              		.cfi_offset 7, -8
 720 044a 84B0     		sub	sp, sp, #16
 721              	.LCFI30:
 722              		.cfi_def_cfa_offset 24
 723 044c 00AF     		add	r7, sp, #0
 724              	.LCFI31:
 725              		.cfi_def_cfa_register 7
 726 044e 7860     		str	r0, [r7, #4]
 727 0450 3960     		str	r1, [r7, #0]
 698:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 728              		.loc 1 698 0
 729 0452 4FF00403 		mov	r3, #4
 730 0456 FB73     		strb	r3, [r7, #15]
 699:../stm32_lib/src/stm32f10x_flash.c ****   __IO uint32_t tmp = 0;
 731              		.loc 1 699 0
 732 0458 4FF00003 		mov	r3, #0
 733 045c BB60     		str	r3, [r7, #8]
 700:../stm32_lib/src/stm32f10x_flash.c **** 
 701:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 702:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 703:../stm32_lib/src/stm32f10x_flash.c **** 
 704:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 705:../stm32_lib/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS - 2)
 706:../stm32_lib/src/stm32f10x_flash.c ****   { 
 707:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 708:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout); 
 709:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 710:../stm32_lib/src/stm32f10x_flash.c ****     {
 711:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 712:../stm32_lib/src/stm32f10x_flash.c ****         half word */
 713:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 714:../stm32_lib/src/stm32f10x_flash.c ****   
 715:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 716:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 717:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 718:../stm32_lib/src/stm32f10x_flash.c ****  
 719:../stm32_lib/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 720:../stm32_lib/src/stm32f10x_flash.c ****       {
 721:../stm32_lib/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 722:../stm32_lib/src/stm32f10x_flash.c ****         half word */
 723:../stm32_lib/src/stm32f10x_flash.c ****         tmp = Address + 2;
 724:../stm32_lib/src/stm32f10x_flash.c **** 
 725:../stm32_lib/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 726:../stm32_lib/src/stm32f10x_flash.c ****     
 727:../stm32_lib/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 728:../stm32_lib/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastOperation(ProgramTimeout);
 729:../stm32_lib/src/stm32f10x_flash.c ****         
 730:../stm32_lib/src/stm32f10x_flash.c ****         if(status != FLASH_TIMEOUT)
 731:../stm32_lib/src/stm32f10x_flash.c ****         {
 732:../stm32_lib/src/stm32f10x_flash.c ****           /* Disable the PG Bit */
 733:../stm32_lib/src/stm32f10x_flash.c ****           FLASH->CR &= CR_PG_Reset;
 734:../stm32_lib/src/stm32f10x_flash.c ****         }
 735:../stm32_lib/src/stm32f10x_flash.c ****       }
 736:../stm32_lib/src/stm32f10x_flash.c ****       else
 737:../stm32_lib/src/stm32f10x_flash.c ****       {
 738:../stm32_lib/src/stm32f10x_flash.c ****         if (status != FLASH_TIMEOUT)
 739:../stm32_lib/src/stm32f10x_flash.c ****         {
 740:../stm32_lib/src/stm32f10x_flash.c ****           /* Disable the PG Bit */
 741:../stm32_lib/src/stm32f10x_flash.c ****           FLASH->CR &= CR_PG_Reset;
 742:../stm32_lib/src/stm32f10x_flash.c ****         }
 743:../stm32_lib/src/stm32f10x_flash.c ****        }
 744:../stm32_lib/src/stm32f10x_flash.c ****     }
 745:../stm32_lib/src/stm32f10x_flash.c ****   }
 746:../stm32_lib/src/stm32f10x_flash.c ****   else if(Address == (FLASH_BANK1_END_ADDRESS - 1))
 747:../stm32_lib/src/stm32f10x_flash.c ****   {
 748:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 749:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 750:../stm32_lib/src/stm32f10x_flash.c **** 
 751:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 752:../stm32_lib/src/stm32f10x_flash.c ****     {
 753:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 754:../stm32_lib/src/stm32f10x_flash.c ****         half word */
 755:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 756:../stm32_lib/src/stm32f10x_flash.c ****   
 757:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 758:../stm32_lib/src/stm32f10x_flash.c **** 
 759:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 760:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 761:../stm32_lib/src/stm32f10x_flash.c **** 
 762:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 763:../stm32_lib/src/stm32f10x_flash.c ****       {
 764:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 765:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 766:../stm32_lib/src/stm32f10x_flash.c ****       }
 767:../stm32_lib/src/stm32f10x_flash.c ****     }
 768:../stm32_lib/src/stm32f10x_flash.c ****     else
 769:../stm32_lib/src/stm32f10x_flash.c ****     {
 770:../stm32_lib/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 771:../stm32_lib/src/stm32f10x_flash.c ****       {
 772:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 773:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 774:../stm32_lib/src/stm32f10x_flash.c ****       }
 775:../stm32_lib/src/stm32f10x_flash.c ****     }
 776:../stm32_lib/src/stm32f10x_flash.c **** 
 777:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 778:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 779:../stm32_lib/src/stm32f10x_flash.c **** 
 780:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 781:../stm32_lib/src/stm32f10x_flash.c ****     {
 782:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 783:../stm32_lib/src/stm32f10x_flash.c ****       half word */
 784:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 785:../stm32_lib/src/stm32f10x_flash.c ****       tmp = Address + 2;
 786:../stm32_lib/src/stm32f10x_flash.c **** 
 787:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 788:../stm32_lib/src/stm32f10x_flash.c ****     
 789:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 790:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 791:../stm32_lib/src/stm32f10x_flash.c ****         
 792:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 793:../stm32_lib/src/stm32f10x_flash.c ****       {
 794:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 795:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 796:../stm32_lib/src/stm32f10x_flash.c ****       }
 797:../stm32_lib/src/stm32f10x_flash.c ****     }
 798:../stm32_lib/src/stm32f10x_flash.c ****     else
 799:../stm32_lib/src/stm32f10x_flash.c ****     {
 800:../stm32_lib/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 801:../stm32_lib/src/stm32f10x_flash.c ****       {
 802:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 803:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 804:../stm32_lib/src/stm32f10x_flash.c ****       }
 805:../stm32_lib/src/stm32f10x_flash.c ****     }
 806:../stm32_lib/src/stm32f10x_flash.c ****   }
 807:../stm32_lib/src/stm32f10x_flash.c ****   else
 808:../stm32_lib/src/stm32f10x_flash.c ****   {
 809:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 810:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 811:../stm32_lib/src/stm32f10x_flash.c **** 
 812:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 813:../stm32_lib/src/stm32f10x_flash.c ****     {
 814:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 815:../stm32_lib/src/stm32f10x_flash.c ****         half word */
 816:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 817:../stm32_lib/src/stm32f10x_flash.c ****   
 818:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 819:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 820:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 821:../stm32_lib/src/stm32f10x_flash.c ****  
 822:../stm32_lib/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 823:../stm32_lib/src/stm32f10x_flash.c ****       {
 824:../stm32_lib/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 825:../stm32_lib/src/stm32f10x_flash.c ****         half word */
 826:../stm32_lib/src/stm32f10x_flash.c ****         tmp = Address + 2;
 827:../stm32_lib/src/stm32f10x_flash.c **** 
 828:../stm32_lib/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 829:../stm32_lib/src/stm32f10x_flash.c ****     
 830:../stm32_lib/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 831:../stm32_lib/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 832:../stm32_lib/src/stm32f10x_flash.c ****         
 833:../stm32_lib/src/stm32f10x_flash.c ****         if(status != FLASH_TIMEOUT)
 834:../stm32_lib/src/stm32f10x_flash.c ****         {
 835:../stm32_lib/src/stm32f10x_flash.c ****           /* Disable the PG Bit */
 836:../stm32_lib/src/stm32f10x_flash.c ****           FLASH->CR2 &= CR_PG_Reset;
 837:../stm32_lib/src/stm32f10x_flash.c ****         }
 838:../stm32_lib/src/stm32f10x_flash.c ****       }
 839:../stm32_lib/src/stm32f10x_flash.c ****       else
 840:../stm32_lib/src/stm32f10x_flash.c ****       {
 841:../stm32_lib/src/stm32f10x_flash.c ****         if (status != FLASH_TIMEOUT)
 842:../stm32_lib/src/stm32f10x_flash.c ****         {
 843:../stm32_lib/src/stm32f10x_flash.c ****           /* Disable the PG Bit */
 844:../stm32_lib/src/stm32f10x_flash.c ****           FLASH->CR2 &= CR_PG_Reset;
 845:../stm32_lib/src/stm32f10x_flash.c ****         }
 846:../stm32_lib/src/stm32f10x_flash.c ****       }
 847:../stm32_lib/src/stm32f10x_flash.c ****     }
 848:../stm32_lib/src/stm32f10x_flash.c ****   }
 849:../stm32_lib/src/stm32f10x_flash.c **** #else
 850:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 851:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 734              		.loc 1 851 0
 735 045e 4FF40050 		mov	r0, #8192
 736 0462 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 737 0466 0346     		mov	r3, r0
 738 0468 FB73     		strb	r3, [r7, #15]
 852:../stm32_lib/src/stm32f10x_flash.c ****   
 853:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 739              		.loc 1 853 0
 740 046a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 741 046c 042B     		cmp	r3, #4
 742 046e 49D1     		bne	.L19
 854:../stm32_lib/src/stm32f10x_flash.c ****   {
 855:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new first 
 856:../stm32_lib/src/stm32f10x_flash.c ****     half word */
 857:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 743              		.loc 1 857 0
 744 0470 4FF40053 		mov	r3, #8192
 745 0474 C4F20203 		movt	r3, 16386
 746 0478 4FF40052 		mov	r2, #8192
 747 047c C4F20202 		movt	r2, 16386
 748 0480 1269     		ldr	r2, [r2, #16]
 749 0482 42F00102 		orr	r2, r2, #1
 750 0486 1A61     		str	r2, [r3, #16]
 858:../stm32_lib/src/stm32f10x_flash.c ****   
 859:../stm32_lib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = (uint16_t)Data;
 751              		.loc 1 859 0
 752 0488 7B68     		ldr	r3, [r7, #4]
 753 048a 3A68     		ldr	r2, [r7, #0]
 754 048c 92B2     		uxth	r2, r2
 755 048e 1A80     		strh	r2, [r3, #0]	@ movhi
 860:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 861:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 756              		.loc 1 861 0
 757 0490 4FF40050 		mov	r0, #8192
 758 0494 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 759 0498 0346     		mov	r3, r0
 760 049a FB73     		strb	r3, [r7, #15]
 862:../stm32_lib/src/stm32f10x_flash.c ****  
 863:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 761              		.loc 1 863 0
 762 049c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 763 049e 042B     		cmp	r3, #4
 764 04a0 20D1     		bne	.L20
 864:../stm32_lib/src/stm32f10x_flash.c ****     {
 865:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 866:../stm32_lib/src/stm32f10x_flash.c ****       half word */
 867:../stm32_lib/src/stm32f10x_flash.c ****       tmp = Address + 2;
 765              		.loc 1 867 0
 766 04a2 7B68     		ldr	r3, [r7, #4]
 767 04a4 03F10203 		add	r3, r3, #2
 768 04a8 BB60     		str	r3, [r7, #8]
 868:../stm32_lib/src/stm32f10x_flash.c **** 
 869:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 769              		.loc 1 869 0
 770 04aa BB68     		ldr	r3, [r7, #8]
 771 04ac 3A68     		ldr	r2, [r7, #0]
 772 04ae 4FEA1242 		lsr	r2, r2, #16
 773 04b2 92B2     		uxth	r2, r2
 774 04b4 1A80     		strh	r2, [r3, #0]	@ movhi
 870:../stm32_lib/src/stm32f10x_flash.c ****     
 871:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 872:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 775              		.loc 1 872 0
 776 04b6 4FF40050 		mov	r0, #8192
 777 04ba FFF7FEFF 		bl	FLASH_WaitForLastOperation
 778 04be 0346     		mov	r3, r0
 779 04c0 FB73     		strb	r3, [r7, #15]
 873:../stm32_lib/src/stm32f10x_flash.c ****         
 874:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 780              		.loc 1 874 0
 781 04c2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 782 04c4 052B     		cmp	r3, #5
 783 04c6 1DD0     		beq	.L19
 875:../stm32_lib/src/stm32f10x_flash.c ****       {
 876:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 877:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 784              		.loc 1 877 0
 785 04c8 4FF40053 		mov	r3, #8192
 786 04cc C4F20203 		movt	r3, 16386
 787 04d0 4FF40052 		mov	r2, #8192
 788 04d4 C4F20202 		movt	r2, 16386
 789 04d8 1169     		ldr	r1, [r2, #16]
 790 04da 41F6FE72 		movw	r2, #8190
 791 04de 0A40     		ands	r2, r2, r1
 792 04e0 1A61     		str	r2, [r3, #16]
 793 04e2 0FE0     		b	.L19
 794              	.L20:
 878:../stm32_lib/src/stm32f10x_flash.c ****       }
 879:../stm32_lib/src/stm32f10x_flash.c ****     }
 880:../stm32_lib/src/stm32f10x_flash.c ****     else
 881:../stm32_lib/src/stm32f10x_flash.c ****     {
 882:../stm32_lib/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 795              		.loc 1 882 0
 796 04e4 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 797 04e6 052B     		cmp	r3, #5
 798 04e8 0CD0     		beq	.L19
 883:../stm32_lib/src/stm32f10x_flash.c ****       {
 884:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 885:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 799              		.loc 1 885 0
 800 04ea 4FF40053 		mov	r3, #8192
 801 04ee C4F20203 		movt	r3, 16386
 802 04f2 4FF40052 		mov	r2, #8192
 803 04f6 C4F20202 		movt	r2, 16386
 804 04fa 1169     		ldr	r1, [r2, #16]
 805 04fc 41F6FE72 		movw	r2, #8190
 806 0500 0A40     		ands	r2, r2, r1
 807 0502 1A61     		str	r2, [r3, #16]
 808              	.L19:
 886:../stm32_lib/src/stm32f10x_flash.c ****       }
 887:../stm32_lib/src/stm32f10x_flash.c ****     }
 888:../stm32_lib/src/stm32f10x_flash.c ****   }         
 889:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 890:../stm32_lib/src/stm32f10x_flash.c ****    
 891:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Program Status */
 892:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 809              		.loc 1 892 0
 810 0504 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 893:../stm32_lib/src/stm32f10x_flash.c **** }
 811              		.loc 1 893 0
 812 0506 1846     		mov	r0, r3
 813 0508 07F11007 		add	r7, r7, #16
 814 050c BD46     		mov	sp, r7
 815 050e 80BD     		pop	{r7, pc}
 816              		.cfi_endproc
 817              	.LFE40:
 819              		.align	2
 820              		.global	FLASH_ProgramHalfWord
 821              		.thumb
 822              		.thumb_func
 824              	FLASH_ProgramHalfWord:
 825              	.LFB41:
 894:../stm32_lib/src/stm32f10x_flash.c **** 
 895:../stm32_lib/src/stm32f10x_flash.c **** /**
 896:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified address.
 897:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 898:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 899:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 900:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 901:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 902:../stm32_lib/src/stm32f10x_flash.c ****   */
 903:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramHalfWord(uint32_t Address, uint16_t Data)
 904:../stm32_lib/src/stm32f10x_flash.c **** {
 826              		.loc 1 904 0
 827              		.cfi_startproc
 828              		@ args = 0, pretend = 0, frame = 16
 829              		@ frame_needed = 1, uses_anonymous_args = 0
 830 0510 80B5     		push	{r7, lr}
 831              	.LCFI32:
 832              		.cfi_def_cfa_offset 8
 833              		.cfi_offset 14, -4
 834              		.cfi_offset 7, -8
 835 0512 84B0     		sub	sp, sp, #16
 836              	.LCFI33:
 837              		.cfi_def_cfa_offset 24
 838 0514 00AF     		add	r7, sp, #0
 839              	.LCFI34:
 840              		.cfi_def_cfa_register 7
 841 0516 7860     		str	r0, [r7, #4]
 842 0518 0B46     		mov	r3, r1
 843 051a 7B80     		strh	r3, [r7, #2]	@ movhi
 905:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 844              		.loc 1 905 0
 845 051c 4FF00403 		mov	r3, #4
 846 0520 FB73     		strb	r3, [r7, #15]
 906:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 907:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 908:../stm32_lib/src/stm32f10x_flash.c **** 
 909:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 910:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 911:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 912:../stm32_lib/src/stm32f10x_flash.c ****   
 913:../stm32_lib/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS)
 914:../stm32_lib/src/stm32f10x_flash.c ****   {
 915:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 916:../stm32_lib/src/stm32f10x_flash.c ****     {
 917:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 918:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 919:../stm32_lib/src/stm32f10x_flash.c ****   
 920:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 921:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 922:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 923:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 924:../stm32_lib/src/stm32f10x_flash.c ****       {
 925:../stm32_lib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the PG Bit */
 926:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 927:../stm32_lib/src/stm32f10x_flash.c ****       }
 928:../stm32_lib/src/stm32f10x_flash.c ****     }
 929:../stm32_lib/src/stm32f10x_flash.c ****   }
 930:../stm32_lib/src/stm32f10x_flash.c ****   else
 931:../stm32_lib/src/stm32f10x_flash.c ****   {
 932:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 933:../stm32_lib/src/stm32f10x_flash.c ****     {
 934:../stm32_lib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 935:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 936:../stm32_lib/src/stm32f10x_flash.c ****   
 937:../stm32_lib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 938:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 939:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 940:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 941:../stm32_lib/src/stm32f10x_flash.c ****       {
 942:../stm32_lib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the PG Bit */
 943:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 944:../stm32_lib/src/stm32f10x_flash.c ****       }
 945:../stm32_lib/src/stm32f10x_flash.c ****     }
 946:../stm32_lib/src/stm32f10x_flash.c ****   }
 947:../stm32_lib/src/stm32f10x_flash.c **** #else
 948:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 949:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 847              		.loc 1 949 0
 848 0522 4FF40050 		mov	r0, #8192
 849 0526 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 850 052a 0346     		mov	r3, r0
 851 052c FB73     		strb	r3, [r7, #15]
 950:../stm32_lib/src/stm32f10x_flash.c ****   
 951:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 852              		.loc 1 951 0
 853 052e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 854 0530 042B     		cmp	r3, #4
 855 0532 24D1     		bne	.L22
 952:../stm32_lib/src/stm32f10x_flash.c ****   {
 953:../stm32_lib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new data */
 954:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 856              		.loc 1 954 0
 857 0534 4FF40053 		mov	r3, #8192
 858 0538 C4F20203 		movt	r3, 16386
 859 053c 4FF40052 		mov	r2, #8192
 860 0540 C4F20202 		movt	r2, 16386
 861 0544 1269     		ldr	r2, [r2, #16]
 862 0546 42F00102 		orr	r2, r2, #1
 863 054a 1A61     		str	r2, [r3, #16]
 955:../stm32_lib/src/stm32f10x_flash.c ****   
 956:../stm32_lib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 864              		.loc 1 956 0
 865 054c 7B68     		ldr	r3, [r7, #4]
 866 054e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 867 0550 1A80     		strh	r2, [r3, #0]	@ movhi
 957:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 958:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 868              		.loc 1 958 0
 869 0552 4FF40050 		mov	r0, #8192
 870 0556 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 871 055a 0346     		mov	r3, r0
 872 055c FB73     		strb	r3, [r7, #15]
 959:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 873              		.loc 1 959 0
 874 055e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 875 0560 052B     		cmp	r3, #5
 876 0562 0CD0     		beq	.L22
 960:../stm32_lib/src/stm32f10x_flash.c ****     {
 961:../stm32_lib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the PG Bit */
 962:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 877              		.loc 1 962 0
 878 0564 4FF40053 		mov	r3, #8192
 879 0568 C4F20203 		movt	r3, 16386
 880 056c 4FF40052 		mov	r2, #8192
 881 0570 C4F20202 		movt	r2, 16386
 882 0574 1169     		ldr	r1, [r2, #16]
 883 0576 41F6FE72 		movw	r2, #8190
 884 057a 0A40     		ands	r2, r2, r1
 885 057c 1A61     		str	r2, [r3, #16]
 886              	.L22:
 963:../stm32_lib/src/stm32f10x_flash.c ****     }
 964:../stm32_lib/src/stm32f10x_flash.c ****   } 
 965:../stm32_lib/src/stm32f10x_flash.c **** #endif  /* STM32F10X_XL */
 966:../stm32_lib/src/stm32f10x_flash.c ****   
 967:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Program Status */
 968:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 887              		.loc 1 968 0
 888 057e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 969:../stm32_lib/src/stm32f10x_flash.c **** }
 889              		.loc 1 969 0
 890 0580 1846     		mov	r0, r3
 891 0582 07F11007 		add	r7, r7, #16
 892 0586 BD46     		mov	sp, r7
 893 0588 80BD     		pop	{r7, pc}
 894              		.cfi_endproc
 895              	.LFE41:
 897 058a 00BF     		.align	2
 898              		.global	FLASH_ProgramOptionByteData
 899              		.thumb
 900              		.thumb_func
 902              	FLASH_ProgramOptionByteData:
 903              	.LFB42:
 970:../stm32_lib/src/stm32f10x_flash.c **** 
 971:../stm32_lib/src/stm32f10x_flash.c **** /**
 972:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified Option Byte Data address.
 973:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 974:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 975:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be 0x1FFFF804 or 0x1FFFF806. 
 976:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 977:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 978:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 979:../stm32_lib/src/stm32f10x_flash.c ****   */
 980:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramOptionByteData(uint32_t Address, uint8_t Data)
 981:../stm32_lib/src/stm32f10x_flash.c **** {
 904              		.loc 1 981 0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 16
 907              		@ frame_needed = 1, uses_anonymous_args = 0
 908 058c 80B5     		push	{r7, lr}
 909              	.LCFI35:
 910              		.cfi_def_cfa_offset 8
 911              		.cfi_offset 14, -4
 912              		.cfi_offset 7, -8
 913 058e 84B0     		sub	sp, sp, #16
 914              	.LCFI36:
 915              		.cfi_def_cfa_offset 24
 916 0590 00AF     		add	r7, sp, #0
 917              	.LCFI37:
 918              		.cfi_def_cfa_register 7
 919 0592 7860     		str	r0, [r7, #4]
 920 0594 0B46     		mov	r3, r1
 921 0596 FB70     		strb	r3, [r7, #3]
 982:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 922              		.loc 1 982 0
 923 0598 4FF00403 		mov	r3, #4
 924 059c FB73     		strb	r3, [r7, #15]
 983:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
 984:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_OB_DATA_ADDRESS(Address));
 985:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 925              		.loc 1 985 0
 926 059e 4FF40050 		mov	r0, #8192
 927 05a2 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 928 05a6 0346     		mov	r3, r0
 929 05a8 FB73     		strb	r3, [r7, #15]
 986:../stm32_lib/src/stm32f10x_flash.c **** 
 987:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 930              		.loc 1 987 0
 931 05aa FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 932 05ac 042B     		cmp	r3, #4
 933 05ae 37D1     		bne	.L24
 988:../stm32_lib/src/stm32f10x_flash.c ****   {
 989:../stm32_lib/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 990:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 934              		.loc 1 990 0
 935 05b0 4FF40053 		mov	r3, #8192
 936 05b4 C4F20203 		movt	r3, 16386
 937 05b8 40F22312 		movw	r2, #291
 938 05bc C4F26752 		movt	r2, 17767
 939 05c0 9A60     		str	r2, [r3, #8]
 991:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 940              		.loc 1 991 0
 941 05c2 4FF40053 		mov	r3, #8192
 942 05c6 C4F20203 		movt	r3, 16386
 943 05ca 48F6AB12 		movw	r2, #35243
 944 05ce CCF6EF52 		movt	r2, 52719
 945 05d2 9A60     		str	r2, [r3, #8]
 992:../stm32_lib/src/stm32f10x_flash.c ****     /* Enables the Option Bytes Programming operation */
 993:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 946              		.loc 1 993 0
 947 05d4 4FF40053 		mov	r3, #8192
 948 05d8 C4F20203 		movt	r3, 16386
 949 05dc 4FF40052 		mov	r2, #8192
 950 05e0 C4F20202 		movt	r2, 16386
 951 05e4 1269     		ldr	r2, [r2, #16]
 952 05e6 42F01002 		orr	r2, r2, #16
 953 05ea 1A61     		str	r2, [r3, #16]
 994:../stm32_lib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 954              		.loc 1 994 0
 955 05ec 7B68     		ldr	r3, [r7, #4]
 956 05ee FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 957 05f0 92B2     		uxth	r2, r2
 958 05f2 1A80     		strh	r2, [r3, #0]	@ movhi
 995:../stm32_lib/src/stm32f10x_flash.c ****     
 996:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 997:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 959              		.loc 1 997 0
 960 05f4 4FF40050 		mov	r0, #8192
 961 05f8 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 962 05fc 0346     		mov	r3, r0
 963 05fe FB73     		strb	r3, [r7, #15]
 998:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 964              		.loc 1 998 0
 965 0600 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 966 0602 052B     		cmp	r3, #5
 967 0604 0CD0     		beq	.L24
 999:../stm32_lib/src/stm32f10x_flash.c ****     {
1000:../stm32_lib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1001:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 968              		.loc 1 1001 0
 969 0606 4FF40053 		mov	r3, #8192
 970 060a C4F20203 		movt	r3, 16386
 971 060e 4FF40052 		mov	r2, #8192
 972 0612 C4F20202 		movt	r2, 16386
 973 0616 1169     		ldr	r1, [r2, #16]
 974 0618 41F6EF72 		movw	r2, #8175
 975 061c 0A40     		ands	r2, r2, r1
 976 061e 1A61     		str	r2, [r3, #16]
 977              	.L24:
1002:../stm32_lib/src/stm32f10x_flash.c ****     }
1003:../stm32_lib/src/stm32f10x_flash.c ****   }
1004:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Option Byte Data Program Status */
1005:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 978              		.loc 1 1005 0
 979 0620 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1006:../stm32_lib/src/stm32f10x_flash.c **** }
 980              		.loc 1 1006 0
 981 0622 1846     		mov	r0, r3
 982 0624 07F11007 		add	r7, r7, #16
 983 0628 BD46     		mov	sp, r7
 984 062a 80BD     		pop	{r7, pc}
 985              		.cfi_endproc
 986              	.LFE42:
 988              		.align	2
 989              		.global	FLASH_EnableWriteProtection
 990              		.thumb
 991              		.thumb_func
 993              	FLASH_EnableWriteProtection:
 994              	.LFB43:
1007:../stm32_lib/src/stm32f10x_flash.c **** 
1008:../stm32_lib/src/stm32f10x_flash.c **** /**
1009:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Write protects the desired pages
1010:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1011:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_Pages: specifies the address of the pages to be write protected.
1012:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be:
1013:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Low-density_devices: value between FLASH_WRProt_Pages0to3 and FLASH_WRPro
1014:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Medium-density_devices: value between FLASH_WRProt_Pages0to3
1015:../stm32_lib/src/stm32f10x_flash.c ****   *       and FLASH_WRProt_Pages124to127
1016:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_High-density_devices: value between FLASH_WRProt_Pages0to1 and
1017:../stm32_lib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to255
1018:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Connectivity_line_devices: value between FLASH_WRProt_Pages0to1 and
1019:../stm32_lib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to127    
1020:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_XL-density_devices: value between FLASH_WRProt_Pages0to1 and
1021:../stm32_lib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to511
1022:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_WRProt_AllPages
1023:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1024:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1025:../stm32_lib/src/stm32f10x_flash.c ****   */
1026:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EnableWriteProtection(uint32_t FLASH_Pages)
1027:../stm32_lib/src/stm32f10x_flash.c **** {
 995              		.loc 1 1027 0
 996              		.cfi_startproc
 997              		@ args = 0, pretend = 0, frame = 24
 998              		@ frame_needed = 1, uses_anonymous_args = 0
 999 062c 80B5     		push	{r7, lr}
 1000              	.LCFI38:
 1001              		.cfi_def_cfa_offset 8
 1002              		.cfi_offset 14, -4
 1003              		.cfi_offset 7, -8
 1004 062e 86B0     		sub	sp, sp, #24
 1005              	.LCFI39:
 1006              		.cfi_def_cfa_offset 32
 1007 0630 00AF     		add	r7, sp, #0
 1008              	.LCFI40:
 1009              		.cfi_def_cfa_register 7
 1010 0632 7860     		str	r0, [r7, #4]
1028:../stm32_lib/src/stm32f10x_flash.c ****   uint16_t WRP0_Data = 0xFFFF, WRP1_Data = 0xFFFF, WRP2_Data = 0xFFFF, WRP3_Data = 0xFFFF;
 1011              		.loc 1 1028 0
 1012 0634 4FF6FF73 		movw	r3, #65535
 1013 0638 BB82     		strh	r3, [r7, #20]	@ movhi
 1014 063a 4FF6FF73 		movw	r3, #65535
 1015 063e 7B82     		strh	r3, [r7, #18]	@ movhi
 1016 0640 4FF6FF73 		movw	r3, #65535
 1017 0644 3B82     		strh	r3, [r7, #16]	@ movhi
 1018 0646 4FF6FF73 		movw	r3, #65535
 1019 064a FB81     		strh	r3, [r7, #14]	@ movhi
1029:../stm32_lib/src/stm32f10x_flash.c ****   
1030:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 1020              		.loc 1 1030 0
 1021 064c 4FF00403 		mov	r3, #4
 1022 0650 FB75     		strb	r3, [r7, #23]
1031:../stm32_lib/src/stm32f10x_flash.c ****   
1032:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1033:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_WRPROT_PAGE(FLASH_Pages));
1034:../stm32_lib/src/stm32f10x_flash.c ****   
1035:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Pages = (uint32_t)(~FLASH_Pages);
 1023              		.loc 1 1035 0
 1024 0652 7B68     		ldr	r3, [r7, #4]
 1025 0654 6FEA0303 		mvn	r3, r3
 1026 0658 7B60     		str	r3, [r7, #4]
1036:../stm32_lib/src/stm32f10x_flash.c ****   WRP0_Data = (uint16_t)(FLASH_Pages & WRP0_Mask);
 1027              		.loc 1 1036 0
 1028 065a 7B68     		ldr	r3, [r7, #4]
 1029 065c 9BB2     		uxth	r3, r3
 1030 065e DBB2     		uxtb	r3, r3
 1031 0660 BB82     		strh	r3, [r7, #20]	@ movhi
1037:../stm32_lib/src/stm32f10x_flash.c ****   WRP1_Data = (uint16_t)((FLASH_Pages & WRP1_Mask) >> 8);
 1032              		.loc 1 1037 0
 1033 0662 7B68     		ldr	r3, [r7, #4]
 1034 0664 03F47F43 		and	r3, r3, #65280
 1035 0668 4FEA1323 		lsr	r3, r3, #8
 1036 066c 7B82     		strh	r3, [r7, #18]	@ movhi
1038:../stm32_lib/src/stm32f10x_flash.c ****   WRP2_Data = (uint16_t)((FLASH_Pages & WRP2_Mask) >> 16);
 1037              		.loc 1 1038 0
 1038 066e 7B68     		ldr	r3, [r7, #4]
 1039 0670 03F47F03 		and	r3, r3, #16711680
 1040 0674 4FEA1343 		lsr	r3, r3, #16
 1041 0678 3B82     		strh	r3, [r7, #16]	@ movhi
1039:../stm32_lib/src/stm32f10x_flash.c ****   WRP3_Data = (uint16_t)((FLASH_Pages & WRP3_Mask) >> 24);
 1042              		.loc 1 1039 0
 1043 067a 7B68     		ldr	r3, [r7, #4]
 1044 067c 4FEA1363 		lsr	r3, r3, #24
 1045 0680 FB81     		strh	r3, [r7, #14]	@ movhi
1040:../stm32_lib/src/stm32f10x_flash.c ****   
1041:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1042:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1046              		.loc 1 1042 0
 1047 0682 4FF40050 		mov	r0, #8192
 1048 0686 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1049 068a 0346     		mov	r3, r0
 1050 068c FB75     		strb	r3, [r7, #23]
1043:../stm32_lib/src/stm32f10x_flash.c ****   
1044:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1051              		.loc 1 1044 0
 1052 068e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1053 0690 042B     		cmp	r3, #4
 1054 0692 72D1     		bne	.L26
1045:../stm32_lib/src/stm32f10x_flash.c ****   {
1046:../stm32_lib/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
1047:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1055              		.loc 1 1047 0
 1056 0694 4FF40053 		mov	r3, #8192
 1057 0698 C4F20203 		movt	r3, 16386
 1058 069c 40F22312 		movw	r2, #291
 1059 06a0 C4F26752 		movt	r2, 17767
 1060 06a4 9A60     		str	r2, [r3, #8]
1048:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 1061              		.loc 1 1048 0
 1062 06a6 4FF40053 		mov	r3, #8192
 1063 06aa C4F20203 		movt	r3, 16386
 1064 06ae 48F6AB12 		movw	r2, #35243
 1065 06b2 CCF6EF52 		movt	r2, 52719
 1066 06b6 9A60     		str	r2, [r3, #8]
1049:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 1067              		.loc 1 1049 0
 1068 06b8 4FF40053 		mov	r3, #8192
 1069 06bc C4F20203 		movt	r3, 16386
 1070 06c0 4FF40052 		mov	r2, #8192
 1071 06c4 C4F20202 		movt	r2, 16386
 1072 06c8 1269     		ldr	r2, [r2, #16]
 1073 06ca 42F01002 		orr	r2, r2, #16
 1074 06ce 1A61     		str	r2, [r3, #16]
1050:../stm32_lib/src/stm32f10x_flash.c ****     if(WRP0_Data != 0xFF)
 1075              		.loc 1 1050 0
 1076 06d0 BB8A     		ldrh	r3, [r7, #20]
 1077 06d2 FF2B     		cmp	r3, #255
 1078 06d4 0BD0     		beq	.L27
1051:../stm32_lib/src/stm32f10x_flash.c ****     {
1052:../stm32_lib/src/stm32f10x_flash.c ****       OB->WRP0 = WRP0_Data;
 1079              		.loc 1 1052 0
 1080 06d6 4FF47843 		mov	r3, #63488
 1081 06da C1F6FF73 		movt	r3, 8191
 1082 06de BA8A     		ldrh	r2, [r7, #20]	@ movhi
 1083 06e0 1A81     		strh	r2, [r3, #8]	@ movhi
1053:../stm32_lib/src/stm32f10x_flash.c ****       
1054:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1055:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1084              		.loc 1 1055 0
 1085 06e2 4FF40050 		mov	r0, #8192
 1086 06e6 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1087 06ea 0346     		mov	r3, r0
 1088 06ec FB75     		strb	r3, [r7, #23]
 1089              	.L27:
1056:../stm32_lib/src/stm32f10x_flash.c ****     }
1057:../stm32_lib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP1_Data != 0xFF))
 1090              		.loc 1 1057 0
 1091 06ee FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1092 06f0 042B     		cmp	r3, #4
 1093 06f2 0ED1     		bne	.L28
 1094              		.loc 1 1057 0 is_stmt 0 discriminator 1
 1095 06f4 7B8A     		ldrh	r3, [r7, #18]
 1096 06f6 FF2B     		cmp	r3, #255
 1097 06f8 0BD0     		beq	.L28
1058:../stm32_lib/src/stm32f10x_flash.c ****     {
1059:../stm32_lib/src/stm32f10x_flash.c ****       OB->WRP1 = WRP1_Data;
 1098              		.loc 1 1059 0 is_stmt 1
 1099 06fa 4FF47843 		mov	r3, #63488
 1100 06fe C1F6FF73 		movt	r3, 8191
 1101 0702 7A8A     		ldrh	r2, [r7, #18]	@ movhi
 1102 0704 5A81     		strh	r2, [r3, #10]	@ movhi
1060:../stm32_lib/src/stm32f10x_flash.c ****       
1061:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1062:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1103              		.loc 1 1062 0
 1104 0706 4FF40050 		mov	r0, #8192
 1105 070a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1106 070e 0346     		mov	r3, r0
 1107 0710 FB75     		strb	r3, [r7, #23]
 1108              	.L28:
1063:../stm32_lib/src/stm32f10x_flash.c ****     }
1064:../stm32_lib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP2_Data != 0xFF))
 1109              		.loc 1 1064 0
 1110 0712 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1111 0714 042B     		cmp	r3, #4
 1112 0716 0ED1     		bne	.L29
 1113              		.loc 1 1064 0 is_stmt 0 discriminator 1
 1114 0718 3B8A     		ldrh	r3, [r7, #16]
 1115 071a FF2B     		cmp	r3, #255
 1116 071c 0BD0     		beq	.L29
1065:../stm32_lib/src/stm32f10x_flash.c ****     {
1066:../stm32_lib/src/stm32f10x_flash.c ****       OB->WRP2 = WRP2_Data;
 1117              		.loc 1 1066 0 is_stmt 1
 1118 071e 4FF47843 		mov	r3, #63488
 1119 0722 C1F6FF73 		movt	r3, 8191
 1120 0726 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 1121 0728 9A81     		strh	r2, [r3, #12]	@ movhi
1067:../stm32_lib/src/stm32f10x_flash.c ****       
1068:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1069:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1122              		.loc 1 1069 0
 1123 072a 4FF40050 		mov	r0, #8192
 1124 072e FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1125 0732 0346     		mov	r3, r0
 1126 0734 FB75     		strb	r3, [r7, #23]
 1127              	.L29:
1070:../stm32_lib/src/stm32f10x_flash.c ****     }
1071:../stm32_lib/src/stm32f10x_flash.c ****     
1072:../stm32_lib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE)&& (WRP3_Data != 0xFF))
 1128              		.loc 1 1072 0
 1129 0736 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1130 0738 042B     		cmp	r3, #4
 1131 073a 0ED1     		bne	.L30
 1132              		.loc 1 1072 0 is_stmt 0 discriminator 1
 1133 073c FB89     		ldrh	r3, [r7, #14]
 1134 073e FF2B     		cmp	r3, #255
 1135 0740 0BD0     		beq	.L30
1073:../stm32_lib/src/stm32f10x_flash.c ****     {
1074:../stm32_lib/src/stm32f10x_flash.c ****       OB->WRP3 = WRP3_Data;
 1136              		.loc 1 1074 0 is_stmt 1
 1137 0742 4FF47843 		mov	r3, #63488
 1138 0746 C1F6FF73 		movt	r3, 8191
 1139 074a FA89     		ldrh	r2, [r7, #14]	@ movhi
 1140 074c DA81     		strh	r2, [r3, #14]	@ movhi
1075:../stm32_lib/src/stm32f10x_flash.c ****      
1076:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1077:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1141              		.loc 1 1077 0
 1142 074e 4FF40050 		mov	r0, #8192
 1143 0752 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1144 0756 0346     		mov	r3, r0
 1145 0758 FB75     		strb	r3, [r7, #23]
 1146              	.L30:
1078:../stm32_lib/src/stm32f10x_flash.c ****     }
1079:../stm32_lib/src/stm32f10x_flash.c ****           
1080:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 1147              		.loc 1 1080 0
 1148 075a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1149 075c 052B     		cmp	r3, #5
 1150 075e 0CD0     		beq	.L26
1081:../stm32_lib/src/stm32f10x_flash.c ****     {
1082:../stm32_lib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1083:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 1151              		.loc 1 1083 0
 1152 0760 4FF40053 		mov	r3, #8192
 1153 0764 C4F20203 		movt	r3, 16386
 1154 0768 4FF40052 		mov	r2, #8192
 1155 076c C4F20202 		movt	r2, 16386
 1156 0770 1169     		ldr	r1, [r2, #16]
 1157 0772 41F6EF72 		movw	r2, #8175
 1158 0776 0A40     		ands	r2, r2, r1
 1159 0778 1A61     		str	r2, [r3, #16]
 1160              	.L26:
1084:../stm32_lib/src/stm32f10x_flash.c ****     }
1085:../stm32_lib/src/stm32f10x_flash.c ****   } 
1086:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the write protection operation Status */
1087:../stm32_lib/src/stm32f10x_flash.c ****   return status;       
 1161              		.loc 1 1087 0
 1162 077a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1088:../stm32_lib/src/stm32f10x_flash.c **** }
 1163              		.loc 1 1088 0
 1164 077c 1846     		mov	r0, r3
 1165 077e 07F11807 		add	r7, r7, #24
 1166 0782 BD46     		mov	sp, r7
 1167 0784 80BD     		pop	{r7, pc}
 1168              		.cfi_endproc
 1169              	.LFE43:
 1171 0786 00BF     		.align	2
 1172              		.global	FLASH_ReadOutProtection
 1173              		.thumb
 1174              		.thumb_func
 1176              	FLASH_ReadOutProtection:
 1177              	.LFB44:
1089:../stm32_lib/src/stm32f10x_flash.c **** 
1090:../stm32_lib/src/stm32f10x_flash.c **** /**
1091:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the read out protection.
1092:../stm32_lib/src/stm32f10x_flash.c ****   * @note   If the user has already programmed the other option bytes before calling 
1093:../stm32_lib/src/stm32f10x_flash.c ****   *   this function, he must re-program them since this function erases all option bytes.
1094:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1095:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Newstate: new state of the ReadOut Protection.
1096:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.
1097:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1098:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1099:../stm32_lib/src/stm32f10x_flash.c ****   */
1100:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ReadOutProtection(FunctionalState NewState)
1101:../stm32_lib/src/stm32f10x_flash.c **** {
 1178              		.loc 1 1101 0
 1179              		.cfi_startproc
 1180              		@ args = 0, pretend = 0, frame = 16
 1181              		@ frame_needed = 1, uses_anonymous_args = 0
 1182 0788 80B5     		push	{r7, lr}
 1183              	.LCFI41:
 1184              		.cfi_def_cfa_offset 8
 1185              		.cfi_offset 14, -4
 1186              		.cfi_offset 7, -8
 1187 078a 84B0     		sub	sp, sp, #16
 1188              	.LCFI42:
 1189              		.cfi_def_cfa_offset 24
 1190 078c 00AF     		add	r7, sp, #0
 1191              	.LCFI43:
 1192              		.cfi_def_cfa_register 7
 1193 078e 0346     		mov	r3, r0
 1194 0790 FB71     		strb	r3, [r7, #7]
1102:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 1195              		.loc 1 1102 0
 1196 0792 4FF00403 		mov	r3, #4
 1197 0796 FB73     		strb	r3, [r7, #15]
1103:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1104:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1105:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 1198              		.loc 1 1105 0
 1199 0798 4FF43020 		mov	r0, #720896
 1200 079c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1201 07a0 0346     		mov	r3, r0
 1202 07a2 FB73     		strb	r3, [r7, #15]
1106:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1203              		.loc 1 1106 0
 1204 07a4 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1205 07a6 042B     		cmp	r3, #4
 1206 07a8 40F08580 		bne	.L32
1107:../stm32_lib/src/stm32f10x_flash.c ****   {
1108:../stm32_lib/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
1109:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1207              		.loc 1 1109 0
 1208 07ac 4FF40053 		mov	r3, #8192
 1209 07b0 C4F20203 		movt	r3, 16386
 1210 07b4 40F22312 		movw	r2, #291
 1211 07b8 C4F26752 		movt	r2, 17767
 1212 07bc 9A60     		str	r2, [r3, #8]
1110:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 1213              		.loc 1 1110 0
 1214 07be 4FF40053 		mov	r3, #8192
 1215 07c2 C4F20203 		movt	r3, 16386
 1216 07c6 48F6AB12 		movw	r2, #35243
 1217 07ca CCF6EF52 		movt	r2, 52719
 1218 07ce 9A60     		str	r2, [r3, #8]
1111:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 1219              		.loc 1 1111 0
 1220 07d0 4FF40053 		mov	r3, #8192
 1221 07d4 C4F20203 		movt	r3, 16386
 1222 07d8 4FF40052 		mov	r2, #8192
 1223 07dc C4F20202 		movt	r2, 16386
 1224 07e0 1269     		ldr	r2, [r2, #16]
 1225 07e2 42F02002 		orr	r2, r2, #32
 1226 07e6 1A61     		str	r2, [r3, #16]
1112:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 1227              		.loc 1 1112 0
 1228 07e8 4FF40053 		mov	r3, #8192
 1229 07ec C4F20203 		movt	r3, 16386
 1230 07f0 4FF40052 		mov	r2, #8192
 1231 07f4 C4F20202 		movt	r2, 16386
 1232 07f8 1269     		ldr	r2, [r2, #16]
 1233 07fa 42F04002 		orr	r2, r2, #64
 1234 07fe 1A61     		str	r2, [r3, #16]
1113:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1114:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1235              		.loc 1 1114 0
 1236 0800 4FF43020 		mov	r0, #720896
 1237 0804 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1238 0808 0346     		mov	r3, r0
 1239 080a FB73     		strb	r3, [r7, #15]
1115:../stm32_lib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 1240              		.loc 1 1115 0
 1241 080c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1242 080e 042B     		cmp	r3, #4
 1243 0810 41D1     		bne	.L33
1116:../stm32_lib/src/stm32f10x_flash.c ****     {
1117:../stm32_lib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
1118:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 1244              		.loc 1 1118 0
 1245 0812 4FF40053 		mov	r3, #8192
 1246 0816 C4F20203 		movt	r3, 16386
 1247 081a 4FF40052 		mov	r2, #8192
 1248 081e C4F20202 		movt	r2, 16386
 1249 0822 1169     		ldr	r1, [r2, #16]
 1250 0824 41F6DF72 		movw	r2, #8159
 1251 0828 0A40     		ands	r2, r2, r1
 1252 082a 1A61     		str	r2, [r3, #16]
1119:../stm32_lib/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
1120:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set; 
 1253              		.loc 1 1120 0
 1254 082c 4FF40053 		mov	r3, #8192
 1255 0830 C4F20203 		movt	r3, 16386
 1256 0834 4FF40052 		mov	r2, #8192
 1257 0838 C4F20202 		movt	r2, 16386
 1258 083c 1269     		ldr	r2, [r2, #16]
 1259 083e 42F01002 		orr	r2, r2, #16
 1260 0842 1A61     		str	r2, [r3, #16]
1121:../stm32_lib/src/stm32f10x_flash.c ****       if(NewState != DISABLE)
 1261              		.loc 1 1121 0
 1262 0844 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1263 0846 002B     		cmp	r3, #0
 1264 0848 07D0     		beq	.L34
1122:../stm32_lib/src/stm32f10x_flash.c ****       {
1123:../stm32_lib/src/stm32f10x_flash.c ****         OB->RDP = 0x00;
 1265              		.loc 1 1123 0
 1266 084a 4FF47843 		mov	r3, #63488
 1267 084e C1F6FF73 		movt	r3, 8191
 1268 0852 4FF00002 		mov	r2, #0
 1269 0856 1A80     		strh	r2, [r3, #0]	@ movhi
 1270 0858 06E0     		b	.L35
 1271              	.L34:
1124:../stm32_lib/src/stm32f10x_flash.c ****       }
1125:../stm32_lib/src/stm32f10x_flash.c ****       else
1126:../stm32_lib/src/stm32f10x_flash.c ****       {
1127:../stm32_lib/src/stm32f10x_flash.c ****         OB->RDP = RDP_Key;  
 1272              		.loc 1 1127 0
 1273 085a 4FF47843 		mov	r3, #63488
 1274 085e C1F6FF73 		movt	r3, 8191
 1275 0862 4FF0A502 		mov	r2, #165
 1276 0866 1A80     		strh	r2, [r3, #0]	@ movhi
 1277              	.L35:
1128:../stm32_lib/src/stm32f10x_flash.c ****       }
1129:../stm32_lib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1130:../stm32_lib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(EraseTimeout); 
 1278              		.loc 1 1130 0
 1279 0868 4FF43020 		mov	r0, #720896
 1280 086c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1281 0870 0346     		mov	r3, r0
 1282 0872 FB73     		strb	r3, [r7, #15]
1131:../stm32_lib/src/stm32f10x_flash.c ****     
1132:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 1283              		.loc 1 1132 0
 1284 0874 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1285 0876 052B     		cmp	r3, #5
 1286 0878 1DD0     		beq	.L32
1133:../stm32_lib/src/stm32f10x_flash.c ****       {
1134:../stm32_lib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
1135:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 1287              		.loc 1 1135 0
 1288 087a 4FF40053 		mov	r3, #8192
 1289 087e C4F20203 		movt	r3, 16386
 1290 0882 4FF40052 		mov	r2, #8192
 1291 0886 C4F20202 		movt	r2, 16386
 1292 088a 1169     		ldr	r1, [r2, #16]
 1293 088c 41F6EF72 		movw	r2, #8175
 1294 0890 0A40     		ands	r2, r2, r1
 1295 0892 1A61     		str	r2, [r3, #16]
 1296 0894 0FE0     		b	.L32
 1297              	.L33:
1136:../stm32_lib/src/stm32f10x_flash.c ****       }
1137:../stm32_lib/src/stm32f10x_flash.c ****     }
1138:../stm32_lib/src/stm32f10x_flash.c ****     else 
1139:../stm32_lib/src/stm32f10x_flash.c ****     {
1140:../stm32_lib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 1298              		.loc 1 1140 0
 1299 0896 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1300 0898 052B     		cmp	r3, #5
 1301 089a 0CD0     		beq	.L32
1141:../stm32_lib/src/stm32f10x_flash.c ****       {
1142:../stm32_lib/src/stm32f10x_flash.c ****         /* Disable the OPTER Bit */
1143:../stm32_lib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTER_Reset;
 1302              		.loc 1 1143 0
 1303 089c 4FF40053 		mov	r3, #8192
 1304 08a0 C4F20203 		movt	r3, 16386
 1305 08a4 4FF40052 		mov	r2, #8192
 1306 08a8 C4F20202 		movt	r2, 16386
 1307 08ac 1169     		ldr	r1, [r2, #16]
 1308 08ae 41F6DF72 		movw	r2, #8159
 1309 08b2 0A40     		ands	r2, r2, r1
 1310 08b4 1A61     		str	r2, [r3, #16]
 1311              	.L32:
1144:../stm32_lib/src/stm32f10x_flash.c ****       }
1145:../stm32_lib/src/stm32f10x_flash.c ****     }
1146:../stm32_lib/src/stm32f10x_flash.c ****   }
1147:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the protection operation Status */
1148:../stm32_lib/src/stm32f10x_flash.c ****   return status;       
 1312              		.loc 1 1148 0
 1313 08b6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1149:../stm32_lib/src/stm32f10x_flash.c **** }
 1314              		.loc 1 1149 0
 1315 08b8 1846     		mov	r0, r3
 1316 08ba 07F11007 		add	r7, r7, #16
 1317 08be BD46     		mov	sp, r7
 1318 08c0 80BD     		pop	{r7, pc}
 1319              		.cfi_endproc
 1320              	.LFE44:
 1322 08c2 00BF     		.align	2
 1323              		.global	FLASH_UserOptionByteConfig
 1324              		.thumb
 1325              		.thumb_func
 1327              	FLASH_UserOptionByteConfig:
 1328              	.LFB45:
1150:../stm32_lib/src/stm32f10x_flash.c **** 
1151:../stm32_lib/src/stm32f10x_flash.c **** /**
1152:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Programs the FLASH User Option Byte: IWDG_SW / RST_STOP / RST_STDBY.
1153:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1154:../stm32_lib/src/stm32f10x_flash.c ****   * @param  OB_IWDG: Selects the IWDG mode
1155:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1156:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_SW: Software IWDG selected
1157:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_HW: Hardware IWDG selected
1158:../stm32_lib/src/stm32f10x_flash.c ****   * @param  OB_STOP: Reset event when entering STOP mode.
1159:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1160:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_STOP_NoRST: No reset generated when entering in STOP
1161:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_STOP_RST: Reset generated when entering in STOP
1162:../stm32_lib/src/stm32f10x_flash.c ****   * @param  OB_STDBY: Reset event when entering Standby mode.
1163:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1164:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_NoRST: No reset generated when entering in STANDBY
1165:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_RST: Reset generated when entering in STANDBY
1166:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1167:../stm32_lib/src/stm32f10x_flash.c ****   * FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1168:../stm32_lib/src/stm32f10x_flash.c ****   */
1169:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_UserOptionByteConfig(uint16_t OB_IWDG, uint16_t OB_STOP, uint16_t OB_STDBY)
1170:../stm32_lib/src/stm32f10x_flash.c **** {
 1329              		.loc 1 1170 0
 1330              		.cfi_startproc
 1331              		@ args = 0, pretend = 0, frame = 16
 1332              		@ frame_needed = 1, uses_anonymous_args = 0
 1333 08c4 80B5     		push	{r7, lr}
 1334              	.LCFI44:
 1335              		.cfi_def_cfa_offset 8
 1336              		.cfi_offset 14, -4
 1337              		.cfi_offset 7, -8
 1338 08c6 84B0     		sub	sp, sp, #16
 1339              	.LCFI45:
 1340              		.cfi_def_cfa_offset 24
 1341 08c8 00AF     		add	r7, sp, #0
 1342              	.LCFI46:
 1343              		.cfi_def_cfa_register 7
 1344 08ca 1346     		mov	r3, r2
 1345 08cc 0246     		mov	r2, r0	@ movhi
 1346 08ce FA80     		strh	r2, [r7, #6]	@ movhi
 1347 08d0 0A46     		mov	r2, r1	@ movhi
 1348 08d2 BA80     		strh	r2, [r7, #4]	@ movhi
 1349 08d4 7B80     		strh	r3, [r7, #2]	@ movhi
1171:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
 1350              		.loc 1 1171 0
 1351 08d6 4FF00403 		mov	r3, #4
 1352 08da FB73     		strb	r3, [r7, #15]
1172:../stm32_lib/src/stm32f10x_flash.c **** 
1173:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1174:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_OB_IWDG_SOURCE(OB_IWDG));
1175:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_OB_STOP_SOURCE(OB_STOP));
1176:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_OB_STDBY_SOURCE(OB_STDBY));
1177:../stm32_lib/src/stm32f10x_flash.c **** 
1178:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1179:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
 1353              		.loc 1 1179 0
 1354 08dc 4FF40053 		mov	r3, #8192
 1355 08e0 C4F20203 		movt	r3, 16386
 1356 08e4 40F22312 		movw	r2, #291
 1357 08e8 C4F26752 		movt	r2, 17767
 1358 08ec 9A60     		str	r2, [r3, #8]
1180:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
 1359              		.loc 1 1180 0
 1360 08ee 4FF40053 		mov	r3, #8192
 1361 08f2 C4F20203 		movt	r3, 16386
 1362 08f6 48F6AB12 		movw	r2, #35243
 1363 08fa CCF6EF52 		movt	r2, 52719
 1364 08fe 9A60     		str	r2, [r3, #8]
1181:../stm32_lib/src/stm32f10x_flash.c ****   
1182:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1183:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1365              		.loc 1 1183 0
 1366 0900 4FF40050 		mov	r0, #8192
 1367 0904 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1368 0908 0346     		mov	r3, r0
 1369 090a FB73     		strb	r3, [r7, #15]
1184:../stm32_lib/src/stm32f10x_flash.c ****   
1185:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1370              		.loc 1 1185 0
 1371 090c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1372 090e 042B     		cmp	r3, #4
 1373 0910 30D1     		bne	.L37
1186:../stm32_lib/src/stm32f10x_flash.c ****   {  
1187:../stm32_lib/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1188:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 1374              		.loc 1 1188 0
 1375 0912 4FF40053 		mov	r3, #8192
 1376 0916 C4F20203 		movt	r3, 16386
 1377 091a 4FF40052 		mov	r2, #8192
 1378 091e C4F20202 		movt	r2, 16386
 1379 0922 1269     		ldr	r2, [r2, #16]
 1380 0924 42F01002 		orr	r2, r2, #16
 1381 0928 1A61     		str	r2, [r3, #16]
1189:../stm32_lib/src/stm32f10x_flash.c ****            
1190:../stm32_lib/src/stm32f10x_flash.c ****     OB->USER = OB_IWDG | (uint16_t)(OB_STOP | (uint16_t)(OB_STDBY | ((uint16_t)0xF8))); 
 1382              		.loc 1 1190 0
 1383 092a 4FF47843 		mov	r3, #63488
 1384 092e C1F6FF73 		movt	r3, 8191
 1385 0932 7988     		ldrh	r1, [r7, #2]	@ movhi
 1386 0934 BA88     		ldrh	r2, [r7, #4]	@ movhi
 1387 0936 0A43     		orrs	r2, r2, r1
 1388 0938 91B2     		uxth	r1, r2
 1389 093a FA88     		ldrh	r2, [r7, #6]	@ movhi
 1390 093c 0A43     		orrs	r2, r2, r1
 1391 093e 92B2     		uxth	r2, r2
 1392 0940 42F0F802 		orr	r2, r2, #248
 1393 0944 92B2     		uxth	r2, r2
 1394 0946 5A80     		strh	r2, [r3, #2]	@ movhi
1191:../stm32_lib/src/stm32f10x_flash.c ****   
1192:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1193:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1395              		.loc 1 1193 0
 1396 0948 4FF40050 		mov	r0, #8192
 1397 094c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1398 0950 0346     		mov	r3, r0
 1399 0952 FB73     		strb	r3, [r7, #15]
1194:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 1400              		.loc 1 1194 0
 1401 0954 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1402 0956 052B     		cmp	r3, #5
 1403 0958 0CD0     		beq	.L37
1195:../stm32_lib/src/stm32f10x_flash.c ****     {
1196:../stm32_lib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1197:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 1404              		.loc 1 1197 0
 1405 095a 4FF40053 		mov	r3, #8192
 1406 095e C4F20203 		movt	r3, 16386
 1407 0962 4FF40052 		mov	r2, #8192
 1408 0966 C4F20202 		movt	r2, 16386
 1409 096a 1169     		ldr	r1, [r2, #16]
 1410 096c 41F6EF72 		movw	r2, #8175
 1411 0970 0A40     		ands	r2, r2, r1
 1412 0972 1A61     		str	r2, [r3, #16]
 1413              	.L37:
1198:../stm32_lib/src/stm32f10x_flash.c ****     }
1199:../stm32_lib/src/stm32f10x_flash.c ****   }    
1200:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1201:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 1414              		.loc 1 1201 0
 1415 0974 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1202:../stm32_lib/src/stm32f10x_flash.c **** }
 1416              		.loc 1 1202 0
 1417 0976 1846     		mov	r0, r3
 1418 0978 07F11007 		add	r7, r7, #16
 1419 097c BD46     		mov	sp, r7
 1420 097e 80BD     		pop	{r7, pc}
 1421              		.cfi_endproc
 1422              	.LFE45:
 1424              		.align	2
 1425              		.global	FLASH_GetUserOptionByte
 1426              		.thumb
 1427              		.thumb_func
 1429              	FLASH_GetUserOptionByte:
 1430              	.LFB46:
1203:../stm32_lib/src/stm32f10x_flash.c **** 
1204:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1205:../stm32_lib/src/stm32f10x_flash.c **** /**
1206:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Configures to boot from Bank1 or Bank2.  
1207:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
1208:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_BOOT: select the FLASH Bank to boot from.
1209:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1210:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank1: At startup, if boot pins are set in boot from user Flash
1211:../stm32_lib/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank1(Default).
1212:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank2: At startup, if boot pins are set in boot from user Flash
1213:../stm32_lib/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank2 or Bank1,
1214:../stm32_lib/src/stm32f10x_flash.c ****   *        depending on the activation of the bank. The active banks are checked in
1215:../stm32_lib/src/stm32f10x_flash.c ****   *        the following order: Bank2, followed by Bank1.
1216:../stm32_lib/src/stm32f10x_flash.c ****   *        The active bank is recognized by the value programmed at the base address
1217:../stm32_lib/src/stm32f10x_flash.c ****   *        of the respective bank (corresponding to the initial stack pointer value
1218:../stm32_lib/src/stm32f10x_flash.c ****   *        in the interrupt vector table).
1219:../stm32_lib/src/stm32f10x_flash.c ****   *        For more information, please refer to AN2606 from www.st.com.    
1220:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1221:../stm32_lib/src/stm32f10x_flash.c ****   * FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1222:../stm32_lib/src/stm32f10x_flash.c ****   */
1223:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_BootConfig(uint16_t FLASH_BOOT)
1224:../stm32_lib/src/stm32f10x_flash.c **** { 
1225:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
1226:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_BOOT(FLASH_BOOT));
1227:../stm32_lib/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1228:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
1229:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
1230:../stm32_lib/src/stm32f10x_flash.c ****   
1231:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1232:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
1233:../stm32_lib/src/stm32f10x_flash.c ****   
1234:../stm32_lib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
1235:../stm32_lib/src/stm32f10x_flash.c ****   {  
1236:../stm32_lib/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1237:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
1238:../stm32_lib/src/stm32f10x_flash.c **** 
1239:../stm32_lib/src/stm32f10x_flash.c ****     if(FLASH_BOOT == FLASH_BOOT_Bank1)
1240:../stm32_lib/src/stm32f10x_flash.c ****     {
1241:../stm32_lib/src/stm32f10x_flash.c ****       OB->USER |= OB_USER_BFB2;
1242:../stm32_lib/src/stm32f10x_flash.c ****     }
1243:../stm32_lib/src/stm32f10x_flash.c ****     else
1244:../stm32_lib/src/stm32f10x_flash.c ****     {
1245:../stm32_lib/src/stm32f10x_flash.c ****       OB->USER &= (uint16_t)(~(uint16_t)(OB_USER_BFB2));
1246:../stm32_lib/src/stm32f10x_flash.c ****     }
1247:../stm32_lib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1248:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
1249:../stm32_lib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
1250:../stm32_lib/src/stm32f10x_flash.c ****     {
1251:../stm32_lib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1252:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
1253:../stm32_lib/src/stm32f10x_flash.c ****     }
1254:../stm32_lib/src/stm32f10x_flash.c ****   }    
1255:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1256:../stm32_lib/src/stm32f10x_flash.c ****   return status;
1257:../stm32_lib/src/stm32f10x_flash.c **** }
1258:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1259:../stm32_lib/src/stm32f10x_flash.c **** 
1260:../stm32_lib/src/stm32f10x_flash.c **** /**
1261:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH User Option Bytes values.
1262:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1263:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1264:../stm32_lib/src/stm32f10x_flash.c ****   * @retval The FLASH User Option Bytes values:IWDG_SW(Bit0), RST_STOP(Bit1)
1265:../stm32_lib/src/stm32f10x_flash.c ****   *   and RST_STDBY(Bit2).
1266:../stm32_lib/src/stm32f10x_flash.c ****   */
1267:../stm32_lib/src/stm32f10x_flash.c **** uint32_t FLASH_GetUserOptionByte(void)
1268:../stm32_lib/src/stm32f10x_flash.c **** {
 1431              		.loc 1 1268 0
 1432              		.cfi_startproc
 1433              		@ args = 0, pretend = 0, frame = 0
 1434              		@ frame_needed = 1, uses_anonymous_args = 0
 1435              		@ link register save eliminated.
 1436 0980 80B4     		push	{r7}
 1437              	.LCFI47:
 1438              		.cfi_def_cfa_offset 4
 1439              		.cfi_offset 7, -4
 1440 0982 00AF     		add	r7, sp, #0
 1441              	.LCFI48:
 1442              		.cfi_def_cfa_register 7
1269:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the User Option Byte */
1270:../stm32_lib/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->OBR >> 2);
 1443              		.loc 1 1270 0
 1444 0984 4FF40053 		mov	r3, #8192
 1445 0988 C4F20203 		movt	r3, 16386
 1446 098c DB69     		ldr	r3, [r3, #28]
 1447 098e 4FEA9303 		lsr	r3, r3, #2
1271:../stm32_lib/src/stm32f10x_flash.c **** }
 1448              		.loc 1 1271 0
 1449 0992 1846     		mov	r0, r3
 1450 0994 BD46     		mov	sp, r7
 1451 0996 80BC     		pop	{r7}
 1452 0998 7047     		bx	lr
 1453              		.cfi_endproc
 1454              	.LFE46:
 1456 099a 00BF     		.align	2
 1457              		.global	FLASH_GetWriteProtectionOptionByte
 1458              		.thumb
 1459              		.thumb_func
 1461              	FLASH_GetWriteProtectionOptionByte:
 1462              	.LFB47:
1272:../stm32_lib/src/stm32f10x_flash.c **** 
1273:../stm32_lib/src/stm32f10x_flash.c **** /**
1274:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Write Protection Option Bytes Register value.
1275:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1276:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1277:../stm32_lib/src/stm32f10x_flash.c ****   * @retval The FLASH Write Protection  Option Bytes Register value
1278:../stm32_lib/src/stm32f10x_flash.c ****   */
1279:../stm32_lib/src/stm32f10x_flash.c **** uint32_t FLASH_GetWriteProtectionOptionByte(void)
1280:../stm32_lib/src/stm32f10x_flash.c **** {
 1463              		.loc 1 1280 0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 0
 1466              		@ frame_needed = 1, uses_anonymous_args = 0
 1467              		@ link register save eliminated.
 1468 099c 80B4     		push	{r7}
 1469              	.LCFI49:
 1470              		.cfi_def_cfa_offset 4
 1471              		.cfi_offset 7, -4
 1472 099e 00AF     		add	r7, sp, #0
 1473              	.LCFI50:
 1474              		.cfi_def_cfa_register 7
1281:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Falsh write protection Register value */
1282:../stm32_lib/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->WRPR);
 1475              		.loc 1 1282 0
 1476 09a0 4FF40053 		mov	r3, #8192
 1477 09a4 C4F20203 		movt	r3, 16386
 1478 09a8 1B6A     		ldr	r3, [r3, #32]
1283:../stm32_lib/src/stm32f10x_flash.c **** }
 1479              		.loc 1 1283 0
 1480 09aa 1846     		mov	r0, r3
 1481 09ac BD46     		mov	sp, r7
 1482 09ae 80BC     		pop	{r7}
 1483 09b0 7047     		bx	lr
 1484              		.cfi_endproc
 1485              	.LFE47:
 1487 09b2 00BF     		.align	2
 1488              		.global	FLASH_GetReadOutProtectionStatus
 1489              		.thumb
 1490              		.thumb_func
 1492              	FLASH_GetReadOutProtectionStatus:
 1493              	.LFB48:
1284:../stm32_lib/src/stm32f10x_flash.c **** 
1285:../stm32_lib/src/stm32f10x_flash.c **** /**
1286:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Read Out Protection Status is set or not.
1287:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1288:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1289:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH ReadOut Protection Status(SET or RESET)
1290:../stm32_lib/src/stm32f10x_flash.c ****   */
1291:../stm32_lib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetReadOutProtectionStatus(void)
1292:../stm32_lib/src/stm32f10x_flash.c **** {
 1494              		.loc 1 1292 0
 1495              		.cfi_startproc
 1496              		@ args = 0, pretend = 0, frame = 8
 1497              		@ frame_needed = 1, uses_anonymous_args = 0
 1498              		@ link register save eliminated.
 1499 09b4 80B4     		push	{r7}
 1500              	.LCFI51:
 1501              		.cfi_def_cfa_offset 4
 1502              		.cfi_offset 7, -4
 1503 09b6 83B0     		sub	sp, sp, #12
 1504              	.LCFI52:
 1505              		.cfi_def_cfa_offset 16
 1506 09b8 00AF     		add	r7, sp, #0
 1507              	.LCFI53:
 1508              		.cfi_def_cfa_register 7
1293:../stm32_lib/src/stm32f10x_flash.c ****   FlagStatus readoutstatus = RESET;
 1509              		.loc 1 1293 0
 1510 09ba 4FF00003 		mov	r3, #0
 1511 09be FB71     		strb	r3, [r7, #7]
1294:../stm32_lib/src/stm32f10x_flash.c ****   if ((FLASH->OBR & RDPRT_Mask) != (uint32_t)RESET)
 1512              		.loc 1 1294 0
 1513 09c0 4FF40053 		mov	r3, #8192
 1514 09c4 C4F20203 		movt	r3, 16386
 1515 09c8 DB69     		ldr	r3, [r3, #28]
 1516 09ca 03F00203 		and	r3, r3, #2
 1517 09ce 002B     		cmp	r3, #0
 1518 09d0 03D0     		beq	.L41
1295:../stm32_lib/src/stm32f10x_flash.c ****   {
1296:../stm32_lib/src/stm32f10x_flash.c ****     readoutstatus = SET;
 1519              		.loc 1 1296 0
 1520 09d2 4FF00103 		mov	r3, #1
 1521 09d6 FB71     		strb	r3, [r7, #7]
 1522 09d8 02E0     		b	.L42
 1523              	.L41:
1297:../stm32_lib/src/stm32f10x_flash.c ****   }
1298:../stm32_lib/src/stm32f10x_flash.c ****   else
1299:../stm32_lib/src/stm32f10x_flash.c ****   {
1300:../stm32_lib/src/stm32f10x_flash.c ****     readoutstatus = RESET;
 1524              		.loc 1 1300 0
 1525 09da 4FF00003 		mov	r3, #0
 1526 09de FB71     		strb	r3, [r7, #7]
 1527              	.L42:
1301:../stm32_lib/src/stm32f10x_flash.c ****   }
1302:../stm32_lib/src/stm32f10x_flash.c ****   return readoutstatus;
 1528              		.loc 1 1302 0
 1529 09e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1303:../stm32_lib/src/stm32f10x_flash.c **** }
 1530              		.loc 1 1303 0
 1531 09e2 1846     		mov	r0, r3
 1532 09e4 07F10C07 		add	r7, r7, #12
 1533 09e8 BD46     		mov	sp, r7
 1534 09ea 80BC     		pop	{r7}
 1535 09ec 7047     		bx	lr
 1536              		.cfi_endproc
 1537              	.LFE48:
 1539 09ee 00BF     		.align	2
 1540              		.global	FLASH_GetPrefetchBufferStatus
 1541              		.thumb
 1542              		.thumb_func
 1544              	FLASH_GetPrefetchBufferStatus:
 1545              	.LFB49:
1304:../stm32_lib/src/stm32f10x_flash.c **** 
1305:../stm32_lib/src/stm32f10x_flash.c **** /**
1306:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Prefetch Buffer status is set or not.
1307:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1308:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1309:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Prefetch Buffer Status (SET or RESET).
1310:../stm32_lib/src/stm32f10x_flash.c ****   */
1311:../stm32_lib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetPrefetchBufferStatus(void)
1312:../stm32_lib/src/stm32f10x_flash.c **** {
 1546              		.loc 1 1312 0
 1547              		.cfi_startproc
 1548              		@ args = 0, pretend = 0, frame = 8
 1549              		@ frame_needed = 1, uses_anonymous_args = 0
 1550              		@ link register save eliminated.
 1551 09f0 80B4     		push	{r7}
 1552              	.LCFI54:
 1553              		.cfi_def_cfa_offset 4
 1554              		.cfi_offset 7, -4
 1555 09f2 83B0     		sub	sp, sp, #12
 1556              	.LCFI55:
 1557              		.cfi_def_cfa_offset 16
 1558 09f4 00AF     		add	r7, sp, #0
 1559              	.LCFI56:
 1560              		.cfi_def_cfa_register 7
1313:../stm32_lib/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
 1561              		.loc 1 1313 0
 1562 09f6 4FF00003 		mov	r3, #0
 1563 09fa FB71     		strb	r3, [r7, #7]
1314:../stm32_lib/src/stm32f10x_flash.c ****   
1315:../stm32_lib/src/stm32f10x_flash.c ****   if ((FLASH->ACR & ACR_PRFTBS_Mask) != (uint32_t)RESET)
 1564              		.loc 1 1315 0
 1565 09fc 4FF40053 		mov	r3, #8192
 1566 0a00 C4F20203 		movt	r3, 16386
 1567 0a04 1B68     		ldr	r3, [r3, #0]
 1568 0a06 03F02003 		and	r3, r3, #32
 1569 0a0a 002B     		cmp	r3, #0
 1570 0a0c 03D0     		beq	.L44
1316:../stm32_lib/src/stm32f10x_flash.c ****   {
1317:../stm32_lib/src/stm32f10x_flash.c ****     bitstatus = SET;
 1571              		.loc 1 1317 0
 1572 0a0e 4FF00103 		mov	r3, #1
 1573 0a12 FB71     		strb	r3, [r7, #7]
 1574 0a14 02E0     		b	.L45
 1575              	.L44:
1318:../stm32_lib/src/stm32f10x_flash.c ****   }
1319:../stm32_lib/src/stm32f10x_flash.c ****   else
1320:../stm32_lib/src/stm32f10x_flash.c ****   {
1321:../stm32_lib/src/stm32f10x_flash.c ****     bitstatus = RESET;
 1576              		.loc 1 1321 0
 1577 0a16 4FF00003 		mov	r3, #0
 1578 0a1a FB71     		strb	r3, [r7, #7]
 1579              	.L45:
1322:../stm32_lib/src/stm32f10x_flash.c ****   }
1323:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the new state of FLASH Prefetch Buffer Status (SET or RESET) */
1324:../stm32_lib/src/stm32f10x_flash.c ****   return bitstatus; 
 1580              		.loc 1 1324 0
 1581 0a1c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1325:../stm32_lib/src/stm32f10x_flash.c **** }
 1582              		.loc 1 1325 0
 1583 0a1e 1846     		mov	r0, r3
 1584 0a20 07F10C07 		add	r7, r7, #12
 1585 0a24 BD46     		mov	sp, r7
 1586 0a26 80BC     		pop	{r7}
 1587 0a28 7047     		bx	lr
 1588              		.cfi_endproc
 1589              	.LFE49:
 1591 0a2a 00BF     		.align	2
 1592              		.global	FLASH_ITConfig
 1593              		.thumb
 1594              		.thumb_func
 1596              	FLASH_ITConfig:
 1597              	.LFB50:
1326:../stm32_lib/src/stm32f10x_flash.c **** 
1327:../stm32_lib/src/stm32f10x_flash.c **** /**
1328:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the specified FLASH interrupts.
1329:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1330:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, enables or disables the specified FLASH interrupts
1331:../stm32_lib/src/stm32f10x_flash.c ****               for Bank1 and Bank2.
1332:../stm32_lib/src/stm32f10x_flash.c ****   *         - For other devices it enables or disables the specified FLASH interrupts for Bank1.
1333:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_IT: specifies the FLASH interrupt sources to be enabled or disabled.
1334:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:
1335:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_ERROR: FLASH Error Interrupt
1336:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_EOP: FLASH end of operation Interrupt
1337:../stm32_lib/src/stm32f10x_flash.c ****   * @param  NewState: new state of the specified Flash interrupts.
1338:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.      
1339:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None 
1340:../stm32_lib/src/stm32f10x_flash.c ****   */
1341:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_ITConfig(uint32_t FLASH_IT, FunctionalState NewState)
1342:../stm32_lib/src/stm32f10x_flash.c **** {
 1598              		.loc 1 1342 0
 1599              		.cfi_startproc
 1600              		@ args = 0, pretend = 0, frame = 8
 1601              		@ frame_needed = 1, uses_anonymous_args = 0
 1602              		@ link register save eliminated.
 1603 0a2c 80B4     		push	{r7}
 1604              	.LCFI57:
 1605              		.cfi_def_cfa_offset 4
 1606              		.cfi_offset 7, -4
 1607 0a2e 83B0     		sub	sp, sp, #12
 1608              	.LCFI58:
 1609              		.cfi_def_cfa_offset 16
 1610 0a30 00AF     		add	r7, sp, #0
 1611              	.LCFI59:
 1612              		.cfi_def_cfa_register 7
 1613 0a32 7860     		str	r0, [r7, #4]
 1614 0a34 0B46     		mov	r3, r1
 1615 0a36 FB70     		strb	r3, [r7, #3]
1343:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1344:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1345:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1346:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1347:../stm32_lib/src/stm32f10x_flash.c **** 
1348:../stm32_lib/src/stm32f10x_flash.c ****   if((FLASH_IT & 0x80000000) != 0x0)
1349:../stm32_lib/src/stm32f10x_flash.c ****   {
1350:../stm32_lib/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1351:../stm32_lib/src/stm32f10x_flash.c ****     {
1352:../stm32_lib/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1353:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 |= (FLASH_IT & 0x7FFFFFFF);
1354:../stm32_lib/src/stm32f10x_flash.c ****     }
1355:../stm32_lib/src/stm32f10x_flash.c ****     else
1356:../stm32_lib/src/stm32f10x_flash.c ****     {
1357:../stm32_lib/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1358:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR2 &= ~(uint32_t)(FLASH_IT & 0x7FFFFFFF);
1359:../stm32_lib/src/stm32f10x_flash.c ****     }
1360:../stm32_lib/src/stm32f10x_flash.c ****   }
1361:../stm32_lib/src/stm32f10x_flash.c ****   else
1362:../stm32_lib/src/stm32f10x_flash.c ****   {
1363:../stm32_lib/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1364:../stm32_lib/src/stm32f10x_flash.c ****     {
1365:../stm32_lib/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1366:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR |= FLASH_IT;
1367:../stm32_lib/src/stm32f10x_flash.c ****     }
1368:../stm32_lib/src/stm32f10x_flash.c ****     else
1369:../stm32_lib/src/stm32f10x_flash.c ****     {
1370:../stm32_lib/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1371:../stm32_lib/src/stm32f10x_flash.c ****       FLASH->CR &= ~(uint32_t)FLASH_IT;
1372:../stm32_lib/src/stm32f10x_flash.c ****     }
1373:../stm32_lib/src/stm32f10x_flash.c ****   }
1374:../stm32_lib/src/stm32f10x_flash.c **** #else
1375:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1376:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1377:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1378:../stm32_lib/src/stm32f10x_flash.c **** 
1379:../stm32_lib/src/stm32f10x_flash.c ****   if(NewState != DISABLE)
 1616              		.loc 1 1379 0
 1617 0a38 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1618 0a3a 002B     		cmp	r3, #0
 1619 0a3c 0CD0     		beq	.L47
1380:../stm32_lib/src/stm32f10x_flash.c ****   {
1381:../stm32_lib/src/stm32f10x_flash.c ****     /* Enable the interrupt sources */
1382:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR |= FLASH_IT;
 1620              		.loc 1 1382 0
 1621 0a3e 4FF40053 		mov	r3, #8192
 1622 0a42 C4F20203 		movt	r3, 16386
 1623 0a46 4FF40052 		mov	r2, #8192
 1624 0a4a C4F20202 		movt	r2, 16386
 1625 0a4e 1169     		ldr	r1, [r2, #16]
 1626 0a50 7A68     		ldr	r2, [r7, #4]
 1627 0a52 0A43     		orrs	r2, r2, r1
 1628 0a54 1A61     		str	r2, [r3, #16]
 1629 0a56 0DE0     		b	.L46
 1630              	.L47:
1383:../stm32_lib/src/stm32f10x_flash.c ****   }
1384:../stm32_lib/src/stm32f10x_flash.c ****   else
1385:../stm32_lib/src/stm32f10x_flash.c ****   {
1386:../stm32_lib/src/stm32f10x_flash.c ****     /* Disable the interrupt sources */
1387:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->CR &= ~(uint32_t)FLASH_IT;
 1631              		.loc 1 1387 0
 1632 0a58 4FF40053 		mov	r3, #8192
 1633 0a5c C4F20203 		movt	r3, 16386
 1634 0a60 4FF40052 		mov	r2, #8192
 1635 0a64 C4F20202 		movt	r2, 16386
 1636 0a68 1169     		ldr	r1, [r2, #16]
 1637 0a6a 7A68     		ldr	r2, [r7, #4]
 1638 0a6c 6FEA0202 		mvn	r2, r2
 1639 0a70 0A40     		ands	r2, r2, r1
 1640 0a72 1A61     		str	r2, [r3, #16]
 1641              	.L46:
1388:../stm32_lib/src/stm32f10x_flash.c ****   }
1389:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1390:../stm32_lib/src/stm32f10x_flash.c **** }
 1642              		.loc 1 1390 0
 1643 0a74 07F10C07 		add	r7, r7, #12
 1644 0a78 BD46     		mov	sp, r7
 1645 0a7a 80BC     		pop	{r7}
 1646 0a7c 7047     		bx	lr
 1647              		.cfi_endproc
 1648              	.LFE50:
 1650 0a7e 00BF     		.align	2
 1651              		.global	FLASH_GetFlagStatus
 1652              		.thumb
 1653              		.thumb_func
 1655              	FLASH_GetFlagStatus:
 1656              	.LFB51:
1391:../stm32_lib/src/stm32f10x_flash.c **** 
1392:../stm32_lib/src/stm32f10x_flash.c **** /**
1393:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Checks whether the specified FLASH flag is set or not.
1394:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1395:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function checks whether the specified 
1396:../stm32_lib/src/stm32f10x_flash.c ****   *           Bank1 or Bank2 flag is set or not.
1397:../stm32_lib/src/stm32f10x_flash.c ****   *         - For other devices, it checks whether the specified Bank1 flag is 
1398:../stm32_lib/src/stm32f10x_flash.c ****   *           set or not.
1399:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flag to check.
1400:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1401:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_BSY: FLASH Busy flag           
1402:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1403:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1404:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1405:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_OPTERR:  FLASH Option Byte error flag     
1406:../stm32_lib/src/stm32f10x_flash.c ****   * @retval The new state of FLASH_FLAG (SET or RESET).
1407:../stm32_lib/src/stm32f10x_flash.c ****   */
1408:../stm32_lib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetFlagStatus(uint32_t FLASH_FLAG)
1409:../stm32_lib/src/stm32f10x_flash.c **** {
 1657              		.loc 1 1409 0
 1658              		.cfi_startproc
 1659              		@ args = 0, pretend = 0, frame = 16
 1660              		@ frame_needed = 1, uses_anonymous_args = 0
 1661              		@ link register save eliminated.
 1662 0a80 80B4     		push	{r7}
 1663              	.LCFI60:
 1664              		.cfi_def_cfa_offset 4
 1665              		.cfi_offset 7, -4
 1666 0a82 85B0     		sub	sp, sp, #20
 1667              	.LCFI61:
 1668              		.cfi_def_cfa_offset 24
 1669 0a84 00AF     		add	r7, sp, #0
 1670              	.LCFI62:
 1671              		.cfi_def_cfa_register 7
 1672 0a86 7860     		str	r0, [r7, #4]
1410:../stm32_lib/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
 1673              		.loc 1 1410 0
 1674 0a88 4FF00003 		mov	r3, #0
 1675 0a8c FB73     		strb	r3, [r7, #15]
1411:../stm32_lib/src/stm32f10x_flash.c **** 
1412:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1413:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1414:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1415:../stm32_lib/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
1416:../stm32_lib/src/stm32f10x_flash.c ****   {
1417:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
1418:../stm32_lib/src/stm32f10x_flash.c ****     {
1419:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = SET;
1420:../stm32_lib/src/stm32f10x_flash.c ****     }
1421:../stm32_lib/src/stm32f10x_flash.c ****     else
1422:../stm32_lib/src/stm32f10x_flash.c ****     {
1423:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = RESET;
1424:../stm32_lib/src/stm32f10x_flash.c ****     }
1425:../stm32_lib/src/stm32f10x_flash.c ****   }
1426:../stm32_lib/src/stm32f10x_flash.c ****   else
1427:../stm32_lib/src/stm32f10x_flash.c ****   {
1428:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH_FLAG & 0x80000000) != 0x0)
1429:../stm32_lib/src/stm32f10x_flash.c ****     {
1430:../stm32_lib/src/stm32f10x_flash.c ****       if((FLASH->SR2 & FLASH_FLAG) != (uint32_t)RESET)
1431:../stm32_lib/src/stm32f10x_flash.c ****       {
1432:../stm32_lib/src/stm32f10x_flash.c ****         bitstatus = SET;
1433:../stm32_lib/src/stm32f10x_flash.c ****       }
1434:../stm32_lib/src/stm32f10x_flash.c ****       else
1435:../stm32_lib/src/stm32f10x_flash.c ****       {
1436:../stm32_lib/src/stm32f10x_flash.c ****         bitstatus = RESET;
1437:../stm32_lib/src/stm32f10x_flash.c ****       }
1438:../stm32_lib/src/stm32f10x_flash.c ****     }
1439:../stm32_lib/src/stm32f10x_flash.c ****     else
1440:../stm32_lib/src/stm32f10x_flash.c ****     {
1441:../stm32_lib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
1442:../stm32_lib/src/stm32f10x_flash.c ****       {
1443:../stm32_lib/src/stm32f10x_flash.c ****         bitstatus = SET;
1444:../stm32_lib/src/stm32f10x_flash.c ****       }
1445:../stm32_lib/src/stm32f10x_flash.c ****       else
1446:../stm32_lib/src/stm32f10x_flash.c ****       {
1447:../stm32_lib/src/stm32f10x_flash.c ****         bitstatus = RESET;
1448:../stm32_lib/src/stm32f10x_flash.c ****       }
1449:../stm32_lib/src/stm32f10x_flash.c ****     }
1450:../stm32_lib/src/stm32f10x_flash.c ****   }
1451:../stm32_lib/src/stm32f10x_flash.c **** #else
1452:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1453:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1454:../stm32_lib/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
 1676              		.loc 1 1454 0
 1677 0a8e 7B68     		ldr	r3, [r7, #4]
 1678 0a90 012B     		cmp	r3, #1
 1679 0a92 11D1     		bne	.L50
1455:../stm32_lib/src/stm32f10x_flash.c ****   {
1456:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
 1680              		.loc 1 1456 0
 1681 0a94 4FF40053 		mov	r3, #8192
 1682 0a98 C4F20203 		movt	r3, 16386
 1683 0a9c DB69     		ldr	r3, [r3, #28]
 1684 0a9e 03F00103 		and	r3, r3, #1
 1685 0aa2 DBB2     		uxtb	r3, r3
 1686 0aa4 002B     		cmp	r3, #0
 1687 0aa6 03D0     		beq	.L51
1457:../stm32_lib/src/stm32f10x_flash.c ****     {
1458:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = SET;
 1688              		.loc 1 1458 0
 1689 0aa8 4FF00103 		mov	r3, #1
 1690 0aac FB73     		strb	r3, [r7, #15]
 1691 0aae 13E0     		b	.L52
 1692              	.L51:
1459:../stm32_lib/src/stm32f10x_flash.c ****     }
1460:../stm32_lib/src/stm32f10x_flash.c ****     else
1461:../stm32_lib/src/stm32f10x_flash.c ****     {
1462:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = RESET;
 1693              		.loc 1 1462 0
 1694 0ab0 4FF00003 		mov	r3, #0
 1695 0ab4 FB73     		strb	r3, [r7, #15]
 1696 0ab6 0FE0     		b	.L52
 1697              	.L50:
1463:../stm32_lib/src/stm32f10x_flash.c ****     }
1464:../stm32_lib/src/stm32f10x_flash.c ****   }
1465:../stm32_lib/src/stm32f10x_flash.c ****   else
1466:../stm32_lib/src/stm32f10x_flash.c ****   {
1467:../stm32_lib/src/stm32f10x_flash.c ****    if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
 1698              		.loc 1 1467 0
 1699 0ab8 4FF40053 		mov	r3, #8192
 1700 0abc C4F20203 		movt	r3, 16386
 1701 0ac0 DA68     		ldr	r2, [r3, #12]
 1702 0ac2 7B68     		ldr	r3, [r7, #4]
 1703 0ac4 1340     		ands	r3, r3, r2
 1704 0ac6 002B     		cmp	r3, #0
 1705 0ac8 03D0     		beq	.L53
1468:../stm32_lib/src/stm32f10x_flash.c ****     {
1469:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = SET;
 1706              		.loc 1 1469 0
 1707 0aca 4FF00103 		mov	r3, #1
 1708 0ace FB73     		strb	r3, [r7, #15]
 1709 0ad0 02E0     		b	.L52
 1710              	.L53:
1470:../stm32_lib/src/stm32f10x_flash.c ****     }
1471:../stm32_lib/src/stm32f10x_flash.c ****     else
1472:../stm32_lib/src/stm32f10x_flash.c ****     {
1473:../stm32_lib/src/stm32f10x_flash.c ****       bitstatus = RESET;
 1711              		.loc 1 1473 0
 1712 0ad2 4FF00003 		mov	r3, #0
 1713 0ad6 FB73     		strb	r3, [r7, #15]
 1714              	.L52:
1474:../stm32_lib/src/stm32f10x_flash.c ****     }
1475:../stm32_lib/src/stm32f10x_flash.c ****   }
1476:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1477:../stm32_lib/src/stm32f10x_flash.c **** 
1478:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the new state of FLASH_FLAG (SET or RESET) */
1479:../stm32_lib/src/stm32f10x_flash.c ****   return bitstatus;
 1715              		.loc 1 1479 0
 1716 0ad8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1480:../stm32_lib/src/stm32f10x_flash.c **** }
 1717              		.loc 1 1480 0
 1718 0ada 1846     		mov	r0, r3
 1719 0adc 07F11407 		add	r7, r7, #20
 1720 0ae0 BD46     		mov	sp, r7
 1721 0ae2 80BC     		pop	{r7}
 1722 0ae4 7047     		bx	lr
 1723              		.cfi_endproc
 1724              	.LFE51:
 1726 0ae6 00BF     		.align	2
 1727              		.global	FLASH_ClearFlag
 1728              		.thumb
 1729              		.thumb_func
 1731              	FLASH_ClearFlag:
 1732              	.LFB52:
1481:../stm32_lib/src/stm32f10x_flash.c **** 
1482:../stm32_lib/src/stm32f10x_flash.c **** /**
1483:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Clears the FLASHs pending flags.
1484:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1485:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function clears Bank1 or Bank2s pending flags
1486:../stm32_lib/src/stm32f10x_flash.c ****   *         - For other devices, it clears Bank1s pending flags.
1487:../stm32_lib/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flags to clear.
1488:../stm32_lib/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:         
1489:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1490:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1491:../stm32_lib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1492:../stm32_lib/src/stm32f10x_flash.c ****   * @retval None
1493:../stm32_lib/src/stm32f10x_flash.c ****   */
1494:../stm32_lib/src/stm32f10x_flash.c **** void FLASH_ClearFlag(uint32_t FLASH_FLAG)
1495:../stm32_lib/src/stm32f10x_flash.c **** {
 1733              		.loc 1 1495 0
 1734              		.cfi_startproc
 1735              		@ args = 0, pretend = 0, frame = 8
 1736              		@ frame_needed = 1, uses_anonymous_args = 0
 1737              		@ link register save eliminated.
 1738 0ae8 80B4     		push	{r7}
 1739              	.LCFI63:
 1740              		.cfi_def_cfa_offset 4
 1741              		.cfi_offset 7, -4
 1742 0aea 83B0     		sub	sp, sp, #12
 1743              	.LCFI64:
 1744              		.cfi_def_cfa_offset 16
 1745 0aec 00AF     		add	r7, sp, #0
 1746              	.LCFI65:
 1747              		.cfi_def_cfa_register 7
 1748 0aee 7860     		str	r0, [r7, #4]
1496:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1497:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1498:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1499:../stm32_lib/src/stm32f10x_flash.c **** 
1500:../stm32_lib/src/stm32f10x_flash.c ****   if((FLASH_FLAG & 0x80000000) != 0x0)
1501:../stm32_lib/src/stm32f10x_flash.c ****   {
1502:../stm32_lib/src/stm32f10x_flash.c ****     /* Clear the flags */
1503:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->SR2 = FLASH_FLAG;
1504:../stm32_lib/src/stm32f10x_flash.c ****   }
1505:../stm32_lib/src/stm32f10x_flash.c ****   else
1506:../stm32_lib/src/stm32f10x_flash.c ****   {
1507:../stm32_lib/src/stm32f10x_flash.c ****     /* Clear the flags */
1508:../stm32_lib/src/stm32f10x_flash.c ****     FLASH->SR = FLASH_FLAG;
1509:../stm32_lib/src/stm32f10x_flash.c ****   }  
1510:../stm32_lib/src/stm32f10x_flash.c **** 
1511:../stm32_lib/src/stm32f10x_flash.c **** #else
1512:../stm32_lib/src/stm32f10x_flash.c ****   /* Check the parameters */
1513:../stm32_lib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1514:../stm32_lib/src/stm32f10x_flash.c ****   
1515:../stm32_lib/src/stm32f10x_flash.c ****   /* Clear the flags */
1516:../stm32_lib/src/stm32f10x_flash.c ****   FLASH->SR = FLASH_FLAG;
 1749              		.loc 1 1516 0
 1750 0af0 4FF40053 		mov	r3, #8192
 1751 0af4 C4F20203 		movt	r3, 16386
 1752 0af8 7A68     		ldr	r2, [r7, #4]
 1753 0afa DA60     		str	r2, [r3, #12]
1517:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1518:../stm32_lib/src/stm32f10x_flash.c **** }
 1754              		.loc 1 1518 0
 1755 0afc 07F10C07 		add	r7, r7, #12
 1756 0b00 BD46     		mov	sp, r7
 1757 0b02 80BC     		pop	{r7}
 1758 0b04 7047     		bx	lr
 1759              		.cfi_endproc
 1760              	.LFE52:
 1762 0b06 00BF     		.align	2
 1763              		.global	FLASH_GetStatus
 1764              		.thumb
 1765              		.thumb_func
 1767              	FLASH_GetStatus:
 1768              	.LFB53:
1519:../stm32_lib/src/stm32f10x_flash.c **** 
1520:../stm32_lib/src/stm32f10x_flash.c **** /**
1521:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Status.
1522:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1523:../stm32_lib/src/stm32f10x_flash.c ****   *    to FLASH_GetBank1Status function.
1524:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1525:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1526:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1527:../stm32_lib/src/stm32f10x_flash.c ****   */
1528:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetStatus(void)
1529:../stm32_lib/src/stm32f10x_flash.c **** {
 1769              		.loc 1 1529 0
 1770              		.cfi_startproc
 1771              		@ args = 0, pretend = 0, frame = 8
 1772              		@ frame_needed = 1, uses_anonymous_args = 0
 1773              		@ link register save eliminated.
 1774 0b08 80B4     		push	{r7}
 1775              	.LCFI66:
 1776              		.cfi_def_cfa_offset 4
 1777              		.cfi_offset 7, -4
 1778 0b0a 83B0     		sub	sp, sp, #12
 1779              	.LCFI67:
 1780              		.cfi_def_cfa_offset 16
 1781 0b0c 00AF     		add	r7, sp, #0
 1782              	.LCFI68:
 1783              		.cfi_def_cfa_register 7
1530:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
 1784              		.loc 1 1530 0
 1785 0b0e 4FF00403 		mov	r3, #4
 1786 0b12 FB71     		strb	r3, [r7, #7]
1531:../stm32_lib/src/stm32f10x_flash.c ****   
1532:../stm32_lib/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BSY) == FLASH_FLAG_BSY) 
 1787              		.loc 1 1532 0
 1788 0b14 4FF40053 		mov	r3, #8192
 1789 0b18 C4F20203 		movt	r3, 16386
 1790 0b1c DB68     		ldr	r3, [r3, #12]
 1791 0b1e 03F00103 		and	r3, r3, #1
 1792 0b22 DBB2     		uxtb	r3, r3
 1793 0b24 002B     		cmp	r3, #0
 1794 0b26 03D0     		beq	.L56
1533:../stm32_lib/src/stm32f10x_flash.c ****   {
1534:../stm32_lib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 1795              		.loc 1 1534 0
 1796 0b28 4FF00103 		mov	r3, #1
 1797 0b2c FB71     		strb	r3, [r7, #7]
 1798 0b2e 1CE0     		b	.L57
 1799              	.L56:
1535:../stm32_lib/src/stm32f10x_flash.c ****   }
1536:../stm32_lib/src/stm32f10x_flash.c ****   else 
1537:../stm32_lib/src/stm32f10x_flash.c ****   {  
1538:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_PGERR) != 0)
 1800              		.loc 1 1538 0
 1801 0b30 4FF40053 		mov	r3, #8192
 1802 0b34 C4F20203 		movt	r3, 16386
 1803 0b38 DB68     		ldr	r3, [r3, #12]
 1804 0b3a 03F00403 		and	r3, r3, #4
 1805 0b3e 002B     		cmp	r3, #0
 1806 0b40 03D0     		beq	.L58
1539:../stm32_lib/src/stm32f10x_flash.c ****     { 
1540:../stm32_lib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 1807              		.loc 1 1540 0
 1808 0b42 4FF00203 		mov	r3, #2
 1809 0b46 FB71     		strb	r3, [r7, #7]
 1810 0b48 0FE0     		b	.L57
 1811              	.L58:
1541:../stm32_lib/src/stm32f10x_flash.c ****     }
1542:../stm32_lib/src/stm32f10x_flash.c ****     else 
1543:../stm32_lib/src/stm32f10x_flash.c ****     {
1544:../stm32_lib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_WRPRTERR) != 0 )
 1812              		.loc 1 1544 0
 1813 0b4a 4FF40053 		mov	r3, #8192
 1814 0b4e C4F20203 		movt	r3, 16386
 1815 0b52 DB68     		ldr	r3, [r3, #12]
 1816 0b54 03F01003 		and	r3, r3, #16
 1817 0b58 002B     		cmp	r3, #0
 1818 0b5a 03D0     		beq	.L59
1545:../stm32_lib/src/stm32f10x_flash.c ****       {
1546:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 1819              		.loc 1 1546 0
 1820 0b5c 4FF00303 		mov	r3, #3
 1821 0b60 FB71     		strb	r3, [r7, #7]
 1822 0b62 02E0     		b	.L57
 1823              	.L59:
1547:../stm32_lib/src/stm32f10x_flash.c ****       }
1548:../stm32_lib/src/stm32f10x_flash.c ****       else
1549:../stm32_lib/src/stm32f10x_flash.c ****       {
1550:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
 1824              		.loc 1 1550 0
 1825 0b64 4FF00403 		mov	r3, #4
 1826 0b68 FB71     		strb	r3, [r7, #7]
 1827              	.L57:
1551:../stm32_lib/src/stm32f10x_flash.c ****       }
1552:../stm32_lib/src/stm32f10x_flash.c ****     }
1553:../stm32_lib/src/stm32f10x_flash.c ****   }
1554:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1555:../stm32_lib/src/stm32f10x_flash.c ****   return flashstatus;
 1828              		.loc 1 1555 0
 1829 0b6a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1556:../stm32_lib/src/stm32f10x_flash.c **** }
 1830              		.loc 1 1556 0
 1831 0b6c 1846     		mov	r0, r3
 1832 0b6e 07F10C07 		add	r7, r7, #12
 1833 0b72 BD46     		mov	sp, r7
 1834 0b74 80BC     		pop	{r7}
 1835 0b76 7047     		bx	lr
 1836              		.cfi_endproc
 1837              	.LFE53:
 1839              		.align	2
 1840              		.global	FLASH_GetBank1Status
 1841              		.thumb
 1842              		.thumb_func
 1844              	FLASH_GetBank1Status:
 1845              	.LFB54:
1557:../stm32_lib/src/stm32f10x_flash.c **** 
1558:../stm32_lib/src/stm32f10x_flash.c **** /**
1559:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank1 Status.
1560:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1561:../stm32_lib/src/stm32f10x_flash.c ****   *   to FLASH_GetStatus function.
1562:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1563:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1564:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1565:../stm32_lib/src/stm32f10x_flash.c ****   */
1566:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank1Status(void)
1567:../stm32_lib/src/stm32f10x_flash.c **** {
 1846              		.loc 1 1567 0
 1847              		.cfi_startproc
 1848              		@ args = 0, pretend = 0, frame = 8
 1849              		@ frame_needed = 1, uses_anonymous_args = 0
 1850              		@ link register save eliminated.
 1851 0b78 80B4     		push	{r7}
 1852              	.LCFI69:
 1853              		.cfi_def_cfa_offset 4
 1854              		.cfi_offset 7, -4
 1855 0b7a 83B0     		sub	sp, sp, #12
 1856              	.LCFI70:
 1857              		.cfi_def_cfa_offset 16
 1858 0b7c 00AF     		add	r7, sp, #0
 1859              	.LCFI71:
 1860              		.cfi_def_cfa_register 7
1568:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
 1861              		.loc 1 1568 0
 1862 0b7e 4FF00403 		mov	r3, #4
 1863 0b82 FB71     		strb	r3, [r7, #7]
1569:../stm32_lib/src/stm32f10x_flash.c ****   
1570:../stm32_lib/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BANK1_BSY) == FLASH_FLAG_BSY) 
 1864              		.loc 1 1570 0
 1865 0b84 4FF40053 		mov	r3, #8192
 1866 0b88 C4F20203 		movt	r3, 16386
 1867 0b8c DB68     		ldr	r3, [r3, #12]
 1868 0b8e 03F00103 		and	r3, r3, #1
 1869 0b92 DBB2     		uxtb	r3, r3
 1870 0b94 002B     		cmp	r3, #0
 1871 0b96 03D0     		beq	.L61
1571:../stm32_lib/src/stm32f10x_flash.c ****   {
1572:../stm32_lib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 1872              		.loc 1 1572 0
 1873 0b98 4FF00103 		mov	r3, #1
 1874 0b9c FB71     		strb	r3, [r7, #7]
 1875 0b9e 1CE0     		b	.L62
 1876              	.L61:
1573:../stm32_lib/src/stm32f10x_flash.c ****   }
1574:../stm32_lib/src/stm32f10x_flash.c ****   else 
1575:../stm32_lib/src/stm32f10x_flash.c ****   {  
1576:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_BANK1_PGERR) != 0)
 1877              		.loc 1 1576 0
 1878 0ba0 4FF40053 		mov	r3, #8192
 1879 0ba4 C4F20203 		movt	r3, 16386
 1880 0ba8 DB68     		ldr	r3, [r3, #12]
 1881 0baa 03F00403 		and	r3, r3, #4
 1882 0bae 002B     		cmp	r3, #0
 1883 0bb0 03D0     		beq	.L63
1577:../stm32_lib/src/stm32f10x_flash.c ****     { 
1578:../stm32_lib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 1884              		.loc 1 1578 0
 1885 0bb2 4FF00203 		mov	r3, #2
 1886 0bb6 FB71     		strb	r3, [r7, #7]
 1887 0bb8 0FE0     		b	.L62
 1888              	.L63:
1579:../stm32_lib/src/stm32f10x_flash.c ****     }
1580:../stm32_lib/src/stm32f10x_flash.c ****     else 
1581:../stm32_lib/src/stm32f10x_flash.c ****     {
1582:../stm32_lib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_BANK1_WRPRTERR) != 0 )
 1889              		.loc 1 1582 0
 1890 0bba 4FF40053 		mov	r3, #8192
 1891 0bbe C4F20203 		movt	r3, 16386
 1892 0bc2 DB68     		ldr	r3, [r3, #12]
 1893 0bc4 03F01003 		and	r3, r3, #16
 1894 0bc8 002B     		cmp	r3, #0
 1895 0bca 03D0     		beq	.L64
1583:../stm32_lib/src/stm32f10x_flash.c ****       {
1584:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 1896              		.loc 1 1584 0
 1897 0bcc 4FF00303 		mov	r3, #3
 1898 0bd0 FB71     		strb	r3, [r7, #7]
 1899 0bd2 02E0     		b	.L62
 1900              	.L64:
1585:../stm32_lib/src/stm32f10x_flash.c ****       }
1586:../stm32_lib/src/stm32f10x_flash.c ****       else
1587:../stm32_lib/src/stm32f10x_flash.c ****       {
1588:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
 1901              		.loc 1 1588 0
 1902 0bd4 4FF00403 		mov	r3, #4
 1903 0bd8 FB71     		strb	r3, [r7, #7]
 1904              	.L62:
1589:../stm32_lib/src/stm32f10x_flash.c ****       }
1590:../stm32_lib/src/stm32f10x_flash.c ****     }
1591:../stm32_lib/src/stm32f10x_flash.c ****   }
1592:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1593:../stm32_lib/src/stm32f10x_flash.c ****   return flashstatus;
 1905              		.loc 1 1593 0
 1906 0bda FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1594:../stm32_lib/src/stm32f10x_flash.c **** }
 1907              		.loc 1 1594 0
 1908 0bdc 1846     		mov	r0, r3
 1909 0bde 07F10C07 		add	r7, r7, #12
 1910 0be2 BD46     		mov	sp, r7
 1911 0be4 80BC     		pop	{r7}
 1912 0be6 7047     		bx	lr
 1913              		.cfi_endproc
 1914              	.LFE54:
 1916              		.align	2
 1917              		.global	FLASH_WaitForLastOperation
 1918              		.thumb
 1919              		.thumb_func
 1921              	FLASH_WaitForLastOperation:
 1922              	.LFB55:
1595:../stm32_lib/src/stm32f10x_flash.c **** 
1596:../stm32_lib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1597:../stm32_lib/src/stm32f10x_flash.c **** /**
1598:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank2 Status.
1599:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for STM32F10x_XL density devices.
1600:../stm32_lib/src/stm32f10x_flash.c ****   * @param  None
1601:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1602:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1603:../stm32_lib/src/stm32f10x_flash.c ****   */
1604:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank2Status(void)
1605:../stm32_lib/src/stm32f10x_flash.c **** {
1606:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
1607:../stm32_lib/src/stm32f10x_flash.c ****   
1608:../stm32_lib/src/stm32f10x_flash.c ****   if((FLASH->SR2 & (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) == (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) 
1609:../stm32_lib/src/stm32f10x_flash.c ****   {
1610:../stm32_lib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
1611:../stm32_lib/src/stm32f10x_flash.c ****   }
1612:../stm32_lib/src/stm32f10x_flash.c ****   else 
1613:../stm32_lib/src/stm32f10x_flash.c ****   {  
1614:../stm32_lib/src/stm32f10x_flash.c ****     if((FLASH->SR2 & (FLASH_FLAG_BANK2_PGERR & 0x7FFFFFFF)) != 0)
1615:../stm32_lib/src/stm32f10x_flash.c ****     { 
1616:../stm32_lib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
1617:../stm32_lib/src/stm32f10x_flash.c ****     }
1618:../stm32_lib/src/stm32f10x_flash.c ****     else 
1619:../stm32_lib/src/stm32f10x_flash.c ****     {
1620:../stm32_lib/src/stm32f10x_flash.c ****       if((FLASH->SR2 & (FLASH_FLAG_BANK2_WRPRTERR & 0x7FFFFFFF)) != 0 )
1621:../stm32_lib/src/stm32f10x_flash.c ****       {
1622:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
1623:../stm32_lib/src/stm32f10x_flash.c ****       }
1624:../stm32_lib/src/stm32f10x_flash.c ****       else
1625:../stm32_lib/src/stm32f10x_flash.c ****       {
1626:../stm32_lib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
1627:../stm32_lib/src/stm32f10x_flash.c ****       }
1628:../stm32_lib/src/stm32f10x_flash.c ****     }
1629:../stm32_lib/src/stm32f10x_flash.c ****   }
1630:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1631:../stm32_lib/src/stm32f10x_flash.c ****   return flashstatus;
1632:../stm32_lib/src/stm32f10x_flash.c **** }
1633:../stm32_lib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1634:../stm32_lib/src/stm32f10x_flash.c **** /**
1635:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation to complete or a TIMEOUT to occur.
1636:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1637:../stm32_lib/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastBank1Operation.
1638:../stm32_lib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function waits for a Bank1 Flash operation
1639:../stm32_lib/src/stm32f10x_flash.c ****   *           to complete or a TIMEOUT to occur.
1640:../stm32_lib/src/stm32f10x_flash.c ****   *         - For all other devices it waits for a Flash operation to complete 
1641:../stm32_lib/src/stm32f10x_flash.c ****   *           or a TIMEOUT to occur.
1642:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH progamming Timeout
1643:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1644:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1645:../stm32_lib/src/stm32f10x_flash.c ****   */
1646:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastOperation(uint32_t Timeout)
1647:../stm32_lib/src/stm32f10x_flash.c **** { 
 1923              		.loc 1 1647 0
 1924              		.cfi_startproc
 1925              		@ args = 0, pretend = 0, frame = 16
 1926              		@ frame_needed = 1, uses_anonymous_args = 0
 1927 0be8 80B5     		push	{r7, lr}
 1928              	.LCFI72:
 1929              		.cfi_def_cfa_offset 8
 1930              		.cfi_offset 14, -4
 1931              		.cfi_offset 7, -8
 1932 0bea 84B0     		sub	sp, sp, #16
 1933              	.LCFI73:
 1934              		.cfi_def_cfa_offset 24
 1935 0bec 00AF     		add	r7, sp, #0
 1936              	.LCFI74:
 1937              		.cfi_def_cfa_register 7
 1938 0bee 7860     		str	r0, [r7, #4]
1648:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 1939              		.loc 1 1648 0
 1940 0bf0 4FF00403 		mov	r3, #4
 1941 0bf4 FB73     		strb	r3, [r7, #15]
1649:../stm32_lib/src/stm32f10x_flash.c ****    
1650:../stm32_lib/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1651:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 1942              		.loc 1 1651 0
 1943 0bf6 FFF7FEFF 		bl	FLASH_GetBank1Status
 1944 0bfa 0346     		mov	r3, r0
 1945 0bfc FB73     		strb	r3, [r7, #15]
1652:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1653:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 1946              		.loc 1 1653 0
 1947 0bfe 07E0     		b	.L66
 1948              	.L68:
1654:../stm32_lib/src/stm32f10x_flash.c ****   {
1655:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 1949              		.loc 1 1655 0
 1950 0c00 FFF7FEFF 		bl	FLASH_GetBank1Status
 1951 0c04 0346     		mov	r3, r0
 1952 0c06 FB73     		strb	r3, [r7, #15]
1656:../stm32_lib/src/stm32f10x_flash.c ****     Timeout--;
 1953              		.loc 1 1656 0
 1954 0c08 7B68     		ldr	r3, [r7, #4]
 1955 0c0a 03F1FF33 		add	r3, r3, #-1
 1956 0c0e 7B60     		str	r3, [r7, #4]
 1957              	.L66:
1653:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 1958              		.loc 1 1653 0 discriminator 1
 1959 0c10 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1960 0c12 012B     		cmp	r3, #1
 1961 0c14 02D1     		bne	.L67
1653:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 1962              		.loc 1 1653 0 is_stmt 0 discriminator 2
 1963 0c16 7B68     		ldr	r3, [r7, #4]
 1964 0c18 002B     		cmp	r3, #0
 1965 0c1a F1D1     		bne	.L68
 1966              	.L67:
1657:../stm32_lib/src/stm32f10x_flash.c ****   }
1658:../stm32_lib/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
 1967              		.loc 1 1658 0 is_stmt 1
 1968 0c1c 7B68     		ldr	r3, [r7, #4]
 1969 0c1e 002B     		cmp	r3, #0
 1970 0c20 02D1     		bne	.L69
1659:../stm32_lib/src/stm32f10x_flash.c ****   {
1660:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 1971              		.loc 1 1660 0
 1972 0c22 4FF00503 		mov	r3, #5
 1973 0c26 FB73     		strb	r3, [r7, #15]
 1974              	.L69:
1661:../stm32_lib/src/stm32f10x_flash.c ****   }
1662:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the operation status */
1663:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 1975              		.loc 1 1663 0
 1976 0c28 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1664:../stm32_lib/src/stm32f10x_flash.c **** }
 1977              		.loc 1 1664 0
 1978 0c2a 1846     		mov	r0, r3
 1979 0c2c 07F11007 		add	r7, r7, #16
 1980 0c30 BD46     		mov	sp, r7
 1981 0c32 80BD     		pop	{r7, pc}
 1982              		.cfi_endproc
 1983              	.LFE55:
 1985              		.align	2
 1986              		.global	FLASH_WaitForLastBank1Operation
 1987              		.thumb
 1988              		.thumb_func
 1990              	FLASH_WaitForLastBank1Operation:
 1991              	.LFB56:
1665:../stm32_lib/src/stm32f10x_flash.c **** 
1666:../stm32_lib/src/stm32f10x_flash.c **** /**
1667:../stm32_lib/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation on Bank1 to complete or a TIMEOUT to occur.
1668:../stm32_lib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1669:../stm32_lib/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastOperation.
1670:../stm32_lib/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH progamming Timeout
1671:../stm32_lib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1672:../stm32_lib/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1673:../stm32_lib/src/stm32f10x_flash.c ****   */
1674:../stm32_lib/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastBank1Operation(uint32_t Timeout)
1675:../stm32_lib/src/stm32f10x_flash.c **** { 
 1992              		.loc 1 1675 0
 1993              		.cfi_startproc
 1994              		@ args = 0, pretend = 0, frame = 16
 1995              		@ frame_needed = 1, uses_anonymous_args = 0
 1996 0c34 80B5     		push	{r7, lr}
 1997              	.LCFI75:
 1998              		.cfi_def_cfa_offset 8
 1999              		.cfi_offset 14, -4
 2000              		.cfi_offset 7, -8
 2001 0c36 84B0     		sub	sp, sp, #16
 2002              	.LCFI76:
 2003              		.cfi_def_cfa_offset 24
 2004 0c38 00AF     		add	r7, sp, #0
 2005              	.LCFI77:
 2006              		.cfi_def_cfa_register 7
 2007 0c3a 7860     		str	r0, [r7, #4]
1676:../stm32_lib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 2008              		.loc 1 1676 0
 2009 0c3c 4FF00403 		mov	r3, #4
 2010 0c40 FB73     		strb	r3, [r7, #15]
1677:../stm32_lib/src/stm32f10x_flash.c ****    
1678:../stm32_lib/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1679:../stm32_lib/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 2011              		.loc 1 1679 0
 2012 0c42 FFF7FEFF 		bl	FLASH_GetBank1Status
 2013 0c46 0346     		mov	r3, r0
 2014 0c48 FB73     		strb	r3, [r7, #15]
1680:../stm32_lib/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1681:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 2015              		.loc 1 1681 0
 2016 0c4a 07E0     		b	.L71
 2017              	.L73:
1682:../stm32_lib/src/stm32f10x_flash.c ****   {
1683:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 2018              		.loc 1 1683 0
 2019 0c4c FFF7FEFF 		bl	FLASH_GetBank1Status
 2020 0c50 0346     		mov	r3, r0
 2021 0c52 FB73     		strb	r3, [r7, #15]
1684:../stm32_lib/src/stm32f10x_flash.c ****     Timeout--;
 2022              		.loc 1 1684 0
 2023 0c54 7B68     		ldr	r3, [r7, #4]
 2024 0c56 03F1FF33 		add	r3, r3, #-1
 2025 0c5a 7B60     		str	r3, [r7, #4]
 2026              	.L71:
1681:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 2027              		.loc 1 1681 0 discriminator 1
 2028 0c5c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2029 0c5e 012B     		cmp	r3, #1
 2030 0c60 02D1     		bne	.L72
1681:../stm32_lib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 2031              		.loc 1 1681 0 is_stmt 0 discriminator 2
 2032 0c62 7B68     		ldr	r3, [r7, #4]
 2033 0c64 002B     		cmp	r3, #0
 2034 0c66 F1D1     		bne	.L73
 2035              	.L72:
1685:../stm32_lib/src/stm32f10x_flash.c ****   }
1686:../stm32_lib/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
 2036              		.loc 1 1686 0 is_stmt 1
 2037 0c68 7B68     		ldr	r3, [r7, #4]
 2038 0c6a 002B     		cmp	r3, #0
 2039 0c6c 02D1     		bne	.L74
1687:../stm32_lib/src/stm32f10x_flash.c ****   {
1688:../stm32_lib/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 2040              		.loc 1 1688 0
 2041 0c6e 4FF00503 		mov	r3, #5
 2042 0c72 FB73     		strb	r3, [r7, #15]
 2043              	.L74:
1689:../stm32_lib/src/stm32f10x_flash.c ****   }
1690:../stm32_lib/src/stm32f10x_flash.c ****   /* Return the operation status */
1691:../stm32_lib/src/stm32f10x_flash.c ****   return status;
 2044              		.loc 1 1691 0
 2045 0c74 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1692:../stm32_lib/src/stm32f10x_flash.c **** }
 2046              		.loc 1 1692 0
 2047 0c76 1846     		mov	r0, r3
 2048 0c78 07F11007 		add	r7, r7, #16
 2049 0c7c BD46     		mov	sp, r7
 2050 0c7e 80BD     		pop	{r7, pc}
 2051              		.cfi_endproc
 2052              	.LFE56:
 2054              	.Letext0:
 2055              		.file 2 "/opt/CodeSourcery/arm-2011.09/bin/../lib/gcc/arm-none-eabi/4.6.1/../../../../arm-none-eab
 2056              		.file 3 "/home/simon/Workspace/stm32vl/stm32_lib/inc/stm32f10x.h"
 2057              		.file 4 "/home/simon/Workspace/stm32vl/stm32_lib/inc/stm32f10x_flash.h"
 2058              		.file 5 "/home/simon/Workspace/stm32vl/stm32_lib/inc/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_flash.c
     /tmp/cccpRRz3.s:18     .text:00000000 $t
     /tmp/cccpRRz3.s:23     .text:00000000 FLASH_SetLatency
     /tmp/cccpRRz3.s:77     .text:00000040 FLASH_HalfCycleAccessCmd
     /tmp/cccpRRz3.s:125    .text:00000084 FLASH_PrefetchBufferCmd
     /tmp/cccpRRz3.s:173    .text:000000c8 FLASH_Unlock
     /tmp/cccpRRz3.s:211    .text:000000f8 FLASH_UnlockBank1
     /tmp/cccpRRz3.s:249    .text:00000128 FLASH_Lock
     /tmp/cccpRRz3.s:283    .text:0000014c FLASH_LockBank1
     /tmp/cccpRRz3.s:317    .text:00000170 FLASH_ErasePage
     /tmp/cccpRRz3.s:1921   .text:00000be8 FLASH_WaitForLastOperation
     /tmp/cccpRRz3.s:402    .text:00000204 FLASH_EraseAllPages
     /tmp/cccpRRz3.s:481    .text:0000028c FLASH_EraseAllBank1Pages
     /tmp/cccpRRz3.s:1990   .text:00000c34 FLASH_WaitForLastBank1Operation
     /tmp/cccpRRz3.s:560    .text:00000314 FLASH_EraseOptionBytes
     /tmp/cccpRRz3.s:1492   .text:000009b4 FLASH_GetReadOutProtectionStatus
     /tmp/cccpRRz3.s:709    .text:00000448 FLASH_ProgramWord
     /tmp/cccpRRz3.s:824    .text:00000510 FLASH_ProgramHalfWord
     /tmp/cccpRRz3.s:902    .text:0000058c FLASH_ProgramOptionByteData
     /tmp/cccpRRz3.s:993    .text:0000062c FLASH_EnableWriteProtection
     /tmp/cccpRRz3.s:1176   .text:00000788 FLASH_ReadOutProtection
     /tmp/cccpRRz3.s:1327   .text:000008c4 FLASH_UserOptionByteConfig
     /tmp/cccpRRz3.s:1429   .text:00000980 FLASH_GetUserOptionByte
     /tmp/cccpRRz3.s:1461   .text:0000099c FLASH_GetWriteProtectionOptionByte
     /tmp/cccpRRz3.s:1544   .text:000009f0 FLASH_GetPrefetchBufferStatus
     /tmp/cccpRRz3.s:1596   .text:00000a2c FLASH_ITConfig
     /tmp/cccpRRz3.s:1655   .text:00000a80 FLASH_GetFlagStatus
     /tmp/cccpRRz3.s:1731   .text:00000ae8 FLASH_ClearFlag
     /tmp/cccpRRz3.s:1767   .text:00000b08 FLASH_GetStatus
     /tmp/cccpRRz3.s:1844   .text:00000b78 FLASH_GetBank1Status
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
