   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"STM32vldiscovery.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global	GPIO_PORT
  19              		.data
  20              		.align	2
  23              	GPIO_PORT:
  24 0000 00100140 		.word	1073811456
  25 0004 00100140 		.word	1073811456
  26              		.global	GPIO_PIN
  27              		.section	.rodata
  28              		.align	2
  31              	GPIO_PIN:
  32 0000 0002     		.short	512
  33 0002 0001     		.short	256
  34              		.global	GPIO_CLK
  35              		.align	2
  38              	GPIO_CLK:
  39 0004 10000000 		.word	16
  40 0008 10000000 		.word	16
  41              		.global	BUTTON_PIN_SOURCE
  42              		.align	2
  45              	BUTTON_PIN_SOURCE:
  46 000c 0000     		.space	2
  47              		.global	BUTTON_PORT_SOURCE
  48 000e 0000     		.align	2
  51              	BUTTON_PORT_SOURCE:
  52 0010 0000     		.space	2
  53              		.global	BUTTON_PORT
  54              		.data
  55              		.align	2
  58              	BUTTON_PORT:
  59 0008 00080140 		.word	1073809408
  60              		.global	BUTTON_PIN
  61              		.section	.rodata
  62 0012 0000     		.align	2
  65              	BUTTON_PIN:
  66 0014 0100     		.short	1
  67              		.global	BUTTON_CLK
  68 0016 0000     		.align	2
  71              	BUTTON_CLK:
  72 0018 04000000 		.word	4
  73              		.global	BUTTON_EXTI_LINE
  74              		.align	2
  77              	BUTTON_EXTI_LINE:
  78 001c 0100     		.short	1
  79              		.global	BUTTON_IRQn
  80 001e 0000     		.align	2
  83              	BUTTON_IRQn:
  84 0020 0600     		.short	6
  85 0022 0000     		.text
  86              		.align	2
  87              		.global	STM32vldiscovery_LEDInit
  88              		.thumb
  89              		.thumb_func
  91              	STM32vldiscovery_LEDInit:
  92              	.LFB29:
  93              		.file 1 "../stm32_lib/src/STM32vldiscovery.c"
   1:../stm32_lib/src/STM32vldiscovery.c **** /**
   2:../stm32_lib/src/STM32vldiscovery.c ****   ******************************************************************************
   3:../stm32_lib/src/STM32vldiscovery.c ****   * @file    stm32vldiscovery.c
   4:../stm32_lib/src/STM32vldiscovery.c ****   * @author  MCD Application Team
   5:../stm32_lib/src/STM32vldiscovery.c ****   * @version V1.0.0
   6:../stm32_lib/src/STM32vldiscovery.c ****   * @date    09/13/2010
   7:../stm32_lib/src/STM32vldiscovery.c ****   * @brief   STM32VLDISCOVERY abstraction layer. 
   8:../stm32_lib/src/STM32vldiscovery.c ****   *          This file should be added to the main application to use the provided
   9:../stm32_lib/src/STM32vldiscovery.c ****   *          functions that manage the Leds LD3 and LD4 and the USER push-button.
  10:../stm32_lib/src/STM32vldiscovery.c ****   ******************************************************************************
  11:../stm32_lib/src/STM32vldiscovery.c ****   * @copy
  12:../stm32_lib/src/STM32vldiscovery.c ****   *
  13:../stm32_lib/src/STM32vldiscovery.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  14:../stm32_lib/src/STM32vldiscovery.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  15:../stm32_lib/src/STM32vldiscovery.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  16:../stm32_lib/src/STM32vldiscovery.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  17:../stm32_lib/src/STM32vldiscovery.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  18:../stm32_lib/src/STM32vldiscovery.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  19:../stm32_lib/src/STM32vldiscovery.c ****   *
  20:../stm32_lib/src/STM32vldiscovery.c ****   * <h2><center>&copy; COPYRIGHT 2010 STMicroelectronics</center></h2>
  21:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  22:../stm32_lib/src/STM32vldiscovery.c ****   
  23:../stm32_lib/src/STM32vldiscovery.c **** /* Includes ------------------------------------------------------------------*/
  24:../stm32_lib/src/STM32vldiscovery.c **** #include "STM32vldiscovery.h"
  25:../stm32_lib/src/STM32vldiscovery.c **** 
  26:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_TypesDefinitions
  27:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  28:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  29:../stm32_lib/src/STM32vldiscovery.c **** /**
  30:../stm32_lib/src/STM32vldiscovery.c ****   * @}
  31:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  32:../stm32_lib/src/STM32vldiscovery.c **** 
  33:../stm32_lib/src/STM32vldiscovery.c **** 
  34:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_Defines
  35:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  36:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  37:../stm32_lib/src/STM32vldiscovery.c **** /**
  38:../stm32_lib/src/STM32vldiscovery.c ****   * @}
  39:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  40:../stm32_lib/src/STM32vldiscovery.c **** 
  41:../stm32_lib/src/STM32vldiscovery.c **** 
  42:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_Macros
  43:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  44:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  45:../stm32_lib/src/STM32vldiscovery.c **** /**
  46:../stm32_lib/src/STM32vldiscovery.c ****   * @}
  47:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  48:../stm32_lib/src/STM32vldiscovery.c **** 
  49:../stm32_lib/src/STM32vldiscovery.c **** 
  50:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_Variables
  51:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  52:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  53:../stm32_lib/src/STM32vldiscovery.c **** GPIO_TypeDef* GPIO_PORT[LEDn] = {LED3_GPIO_PORT, LED4_GPIO_PORT};
  54:../stm32_lib/src/STM32vldiscovery.c **** 
  55:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t GPIO_PIN[LEDn] = {LED3_PIN, LED4_PIN};
  56:../stm32_lib/src/STM32vldiscovery.c **** 
  57:../stm32_lib/src/STM32vldiscovery.c **** const uint32_t GPIO_CLK[LEDn] = {LED3_GPIO_CLK, LED4_GPIO_CLK};
  58:../stm32_lib/src/STM32vldiscovery.c **** 
  59:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t BUTTON_PIN_SOURCE[BUTTONn] = {USER_BUTTON_EXTI_PIN_SOURCE};
  60:../stm32_lib/src/STM32vldiscovery.c **** 
  61:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t BUTTON_PORT_SOURCE[BUTTONn] = {USER_BUTTON_EXTI_PORT_SOURCE};
  62:../stm32_lib/src/STM32vldiscovery.c **** 
  63:../stm32_lib/src/STM32vldiscovery.c **** GPIO_TypeDef* BUTTON_PORT[BUTTONn] = {USER_BUTTON_GPIO_PORT}; 
  64:../stm32_lib/src/STM32vldiscovery.c **** 
  65:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t BUTTON_PIN[BUTTONn] = {USER_BUTTON_PIN}; 
  66:../stm32_lib/src/STM32vldiscovery.c **** 
  67:../stm32_lib/src/STM32vldiscovery.c **** const uint32_t BUTTON_CLK[BUTTONn] = {USER_BUTTON_GPIO_CLK};
  68:../stm32_lib/src/STM32vldiscovery.c **** 
  69:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t BUTTON_EXTI_LINE[BUTTONn] = {USER_BUTTON_EXTI_LINE};
  70:../stm32_lib/src/STM32vldiscovery.c **** 
  71:../stm32_lib/src/STM32vldiscovery.c **** const uint16_t BUTTON_IRQn[BUTTONn] = {USER_BUTTON_EXTI_IRQn};					 
  72:../stm32_lib/src/STM32vldiscovery.c **** 
  73:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_FunctionPrototypes
  74:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  75:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  76:../stm32_lib/src/STM32vldiscovery.c **** /**
  77:../stm32_lib/src/STM32vldiscovery.c ****   * @}
  78:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  79:../stm32_lib/src/STM32vldiscovery.c **** 
  80:../stm32_lib/src/STM32vldiscovery.c **** 
  81:../stm32_lib/src/STM32vldiscovery.c **** /** @defgroup STM32vldiscovery_Private_Functions
  82:../stm32_lib/src/STM32vldiscovery.c ****   * @{
  83:../stm32_lib/src/STM32vldiscovery.c ****   */ 
  84:../stm32_lib/src/STM32vldiscovery.c **** 
  85:../stm32_lib/src/STM32vldiscovery.c **** /**
  86:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Configures LED GPIO.
  87:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Led: Specifies the Led to be configured. 
  88:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:
  89:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED3
  90:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED4
  91:../stm32_lib/src/STM32vldiscovery.c ****   * @retval None
  92:../stm32_lib/src/STM32vldiscovery.c ****   */
  93:../stm32_lib/src/STM32vldiscovery.c **** void STM32vldiscovery_LEDInit(Led_TypeDef Led)
  94:../stm32_lib/src/STM32vldiscovery.c **** {
  94              		.loc 1 94 0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 16
  97              		@ frame_needed = 1, uses_anonymous_args = 0
  98 0000 80B5     		push	{r7, lr}
  99              	.LCFI0:
 100              		.cfi_def_cfa_offset 8
 101              		.cfi_offset 14, -4
 102              		.cfi_offset 7, -8
 103 0002 84B0     		sub	sp, sp, #16
 104              	.LCFI1:
 105              		.cfi_def_cfa_offset 24
 106 0004 00AF     		add	r7, sp, #0
 107              	.LCFI2:
 108              		.cfi_def_cfa_register 7
 109 0006 0346     		mov	r3, r0
 110 0008 FB71     		strb	r3, [r7, #7]
  95:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitTypeDef  GPIO_InitStructure;
  96:../stm32_lib/src/STM32vldiscovery.c ****   
  97:../stm32_lib/src/STM32vldiscovery.c ****   /* Enable the GPIO_LED Clock */
  98:../stm32_lib/src/STM32vldiscovery.c ****   RCC_APB2PeriphClockCmd(GPIO_CLK[Led], ENABLE);
 111              		.loc 1 98 0
 112 000a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 113 000c 40F20003 		movw	r3, #:lower16:GPIO_CLK
 114 0010 C0F20003 		movt	r3, #:upper16:GPIO_CLK
 115 0014 53F82230 		ldr	r3, [r3, r2, lsl #2]
 116 0018 1846     		mov	r0, r3
 117 001a 4FF00101 		mov	r1, #1
 118 001e FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  99:../stm32_lib/src/STM32vldiscovery.c **** 
 100:../stm32_lib/src/STM32vldiscovery.c ****   /* Configure the GPIO_LED pin */
 101:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitStructure.GPIO_Pin = GPIO_PIN[Led];
 119              		.loc 1 101 0
 120 0022 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 121 0024 40F20003 		movw	r3, #:lower16:GPIO_PIN
 122 0028 C0F20003 		movt	r3, #:upper16:GPIO_PIN
 123 002c 33F81230 		ldrh	r3, [r3, r2, lsl #1]
 124 0030 BB81     		strh	r3, [r7, #12]	@ movhi
 102:../stm32_lib/src/STM32vldiscovery.c ****   
 103:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
 125              		.loc 1 103 0
 126 0032 4FF01003 		mov	r3, #16
 127 0036 FB73     		strb	r3, [r7, #15]
 104:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 128              		.loc 1 104 0
 129 0038 4FF00303 		mov	r3, #3
 130 003c BB73     		strb	r3, [r7, #14]
 105:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_Init(GPIO_PORT[Led], &GPIO_InitStructure);
 131              		.loc 1 105 0
 132 003e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 133 0040 40F20003 		movw	r3, #:lower16:GPIO_PORT
 134 0044 C0F20003 		movt	r3, #:upper16:GPIO_PORT
 135 0048 53F82220 		ldr	r2, [r3, r2, lsl #2]
 136 004c 07F10C03 		add	r3, r7, #12
 137 0050 1046     		mov	r0, r2
 138 0052 1946     		mov	r1, r3
 139 0054 FFF7FEFF 		bl	GPIO_Init
 106:../stm32_lib/src/STM32vldiscovery.c **** }
 140              		.loc 1 106 0
 141 0058 07F11007 		add	r7, r7, #16
 142 005c BD46     		mov	sp, r7
 143 005e 80BD     		pop	{r7, pc}
 144              		.cfi_endproc
 145              	.LFE29:
 147              		.align	2
 148              		.global	STM32vldiscovery_LEDOn
 149              		.thumb
 150              		.thumb_func
 152              	STM32vldiscovery_LEDOn:
 153              	.LFB30:
 107:../stm32_lib/src/STM32vldiscovery.c **** 
 108:../stm32_lib/src/STM32vldiscovery.c **** /**
 109:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Turns selected LED On.
 110:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Led: Specifies the Led to be set on. 
 111:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:
 112:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED3
 113:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED4  
 114:../stm32_lib/src/STM32vldiscovery.c ****   * @retval None
 115:../stm32_lib/src/STM32vldiscovery.c ****   */
 116:../stm32_lib/src/STM32vldiscovery.c **** void STM32vldiscovery_LEDOn(Led_TypeDef Led)
 117:../stm32_lib/src/STM32vldiscovery.c **** {
 154              		.loc 1 117 0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 8
 157              		@ frame_needed = 1, uses_anonymous_args = 0
 158              		@ link register save eliminated.
 159 0060 80B4     		push	{r7}
 160              	.LCFI3:
 161              		.cfi_def_cfa_offset 4
 162              		.cfi_offset 7, -4
 163 0062 83B0     		sub	sp, sp, #12
 164              	.LCFI4:
 165              		.cfi_def_cfa_offset 16
 166 0064 00AF     		add	r7, sp, #0
 167              	.LCFI5:
 168              		.cfi_def_cfa_register 7
 169 0066 0346     		mov	r3, r0
 170 0068 FB71     		strb	r3, [r7, #7]
 118:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_PORT[Led]->BSRR = GPIO_PIN[Led];   
 171              		.loc 1 118 0
 172 006a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 173 006c 40F20003 		movw	r3, #:lower16:GPIO_PORT
 174 0070 C0F20003 		movt	r3, #:upper16:GPIO_PORT
 175 0074 53F82220 		ldr	r2, [r3, r2, lsl #2]
 176 0078 F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 177 007a 40F20003 		movw	r3, #:lower16:GPIO_PIN
 178 007e C0F20003 		movt	r3, #:upper16:GPIO_PIN
 179 0082 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 180 0086 1361     		str	r3, [r2, #16]
 119:../stm32_lib/src/STM32vldiscovery.c **** }
 181              		.loc 1 119 0
 182 0088 07F10C07 		add	r7, r7, #12
 183 008c BD46     		mov	sp, r7
 184 008e 80BC     		pop	{r7}
 185 0090 7047     		bx	lr
 186              		.cfi_endproc
 187              	.LFE30:
 189 0092 00BF     		.align	2
 190              		.global	STM32vldiscovery_LEDOff
 191              		.thumb
 192              		.thumb_func
 194              	STM32vldiscovery_LEDOff:
 195              	.LFB31:
 120:../stm32_lib/src/STM32vldiscovery.c **** 
 121:../stm32_lib/src/STM32vldiscovery.c **** /**
 122:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Turns selected LED Off.
 123:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Led: Specifies the Led to be set off. 
 124:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:
 125:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED3
 126:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED4 
 127:../stm32_lib/src/STM32vldiscovery.c ****   * @retval None
 128:../stm32_lib/src/STM32vldiscovery.c ****   */
 129:../stm32_lib/src/STM32vldiscovery.c **** void STM32vldiscovery_LEDOff(Led_TypeDef Led)
 130:../stm32_lib/src/STM32vldiscovery.c **** {
 196              		.loc 1 130 0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 8
 199              		@ frame_needed = 1, uses_anonymous_args = 0
 200              		@ link register save eliminated.
 201 0094 80B4     		push	{r7}
 202              	.LCFI6:
 203              		.cfi_def_cfa_offset 4
 204              		.cfi_offset 7, -4
 205 0096 83B0     		sub	sp, sp, #12
 206              	.LCFI7:
 207              		.cfi_def_cfa_offset 16
 208 0098 00AF     		add	r7, sp, #0
 209              	.LCFI8:
 210              		.cfi_def_cfa_register 7
 211 009a 0346     		mov	r3, r0
 212 009c FB71     		strb	r3, [r7, #7]
 131:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_PORT[Led]->BRR = GPIO_PIN[Led];   
 213              		.loc 1 131 0
 214 009e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 215 00a0 40F20003 		movw	r3, #:lower16:GPIO_PORT
 216 00a4 C0F20003 		movt	r3, #:upper16:GPIO_PORT
 217 00a8 53F82220 		ldr	r2, [r3, r2, lsl #2]
 218 00ac F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 219 00ae 40F20003 		movw	r3, #:lower16:GPIO_PIN
 220 00b2 C0F20003 		movt	r3, #:upper16:GPIO_PIN
 221 00b6 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 222 00ba 5361     		str	r3, [r2, #20]
 132:../stm32_lib/src/STM32vldiscovery.c **** }
 223              		.loc 1 132 0
 224 00bc 07F10C07 		add	r7, r7, #12
 225 00c0 BD46     		mov	sp, r7
 226 00c2 80BC     		pop	{r7}
 227 00c4 7047     		bx	lr
 228              		.cfi_endproc
 229              	.LFE31:
 231 00c6 00BF     		.align	2
 232              		.global	STM32vldiscovery_LEDToggle
 233              		.thumb
 234              		.thumb_func
 236              	STM32vldiscovery_LEDToggle:
 237              	.LFB32:
 133:../stm32_lib/src/STM32vldiscovery.c **** 
 134:../stm32_lib/src/STM32vldiscovery.c **** /**
 135:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Toggles the selected LED.
 136:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Led: Specifies the Led to be toggled. 
 137:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:
 138:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED3
 139:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg LED4  
 140:../stm32_lib/src/STM32vldiscovery.c ****   * @retval None
 141:../stm32_lib/src/STM32vldiscovery.c ****   */
 142:../stm32_lib/src/STM32vldiscovery.c **** void STM32vldiscovery_LEDToggle(Led_TypeDef Led)
 143:../stm32_lib/src/STM32vldiscovery.c **** {
 238              		.loc 1 143 0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 8
 241              		@ frame_needed = 1, uses_anonymous_args = 0
 242              		@ link register save eliminated.
 243 00c8 80B4     		push	{r7}
 244              	.LCFI9:
 245              		.cfi_def_cfa_offset 4
 246              		.cfi_offset 7, -4
 247 00ca 83B0     		sub	sp, sp, #12
 248              	.LCFI10:
 249              		.cfi_def_cfa_offset 16
 250 00cc 00AF     		add	r7, sp, #0
 251              	.LCFI11:
 252              		.cfi_def_cfa_register 7
 253 00ce 0346     		mov	r3, r0
 254 00d0 FB71     		strb	r3, [r7, #7]
 144:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_PORT[Led]->ODR ^= GPIO_PIN[Led];
 255              		.loc 1 144 0
 256 00d2 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 257 00d4 40F20003 		movw	r3, #:lower16:GPIO_PORT
 258 00d8 C0F20003 		movt	r3, #:upper16:GPIO_PORT
 259 00dc 53F82220 		ldr	r2, [r3, r2, lsl #2]
 260 00e0 F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 261 00e2 40F20003 		movw	r3, #:lower16:GPIO_PORT
 262 00e6 C0F20003 		movt	r3, #:upper16:GPIO_PORT
 263 00ea 53F82130 		ldr	r3, [r3, r1, lsl #2]
 264 00ee D968     		ldr	r1, [r3, #12]
 265 00f0 F879     		ldrb	r0, [r7, #7]	@ zero_extendqisi2
 266 00f2 40F20003 		movw	r3, #:lower16:GPIO_PIN
 267 00f6 C0F20003 		movt	r3, #:upper16:GPIO_PIN
 268 00fa 33F81030 		ldrh	r3, [r3, r0, lsl #1]
 269 00fe 4B40     		eors	r3, r3, r1
 270 0100 D360     		str	r3, [r2, #12]
 145:../stm32_lib/src/STM32vldiscovery.c **** }
 271              		.loc 1 145 0
 272 0102 07F10C07 		add	r7, r7, #12
 273 0106 BD46     		mov	sp, r7
 274 0108 80BC     		pop	{r7}
 275 010a 7047     		bx	lr
 276              		.cfi_endproc
 277              	.LFE32:
 279              		.align	2
 280              		.global	STM32vldiscovery_PBInit
 281              		.thumb
 282              		.thumb_func
 284              	STM32vldiscovery_PBInit:
 285              	.LFB33:
 146:../stm32_lib/src/STM32vldiscovery.c **** 
 147:../stm32_lib/src/STM32vldiscovery.c **** /**
 148:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Configures Button GPIO and EXTI Line.
 149:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Button: Specifies the Button to be configured.
 150:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:   
 151:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg BUTTON_USER: USER Push Button 
 152:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Button_Mode: Specifies Button mode.
 153:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:   
 154:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg BUTTON_MODE_GPIO: Button will be used as simple IO 
 155:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg BUTTON_MODE_EXTI: Button will be connected to EXTI line with interrupt
 156:../stm32_lib/src/STM32vldiscovery.c ****   *                     generation capability  
 157:../stm32_lib/src/STM32vldiscovery.c ****   * @retval None
 158:../stm32_lib/src/STM32vldiscovery.c ****   */
 159:../stm32_lib/src/STM32vldiscovery.c **** void STM32vldiscovery_PBInit(Button_TypeDef Button, ButtonMode_TypeDef Button_Mode)
 160:../stm32_lib/src/STM32vldiscovery.c **** {
 286              		.loc 1 160 0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 24
 289              		@ frame_needed = 1, uses_anonymous_args = 0
 290 010c 80B5     		push	{r7, lr}
 291              	.LCFI12:
 292              		.cfi_def_cfa_offset 8
 293              		.cfi_offset 14, -4
 294              		.cfi_offset 7, -8
 295 010e 86B0     		sub	sp, sp, #24
 296              	.LCFI13:
 297              		.cfi_def_cfa_offset 32
 298 0110 00AF     		add	r7, sp, #0
 299              	.LCFI14:
 300              		.cfi_def_cfa_register 7
 301 0112 0246     		mov	r2, r0
 302 0114 0B46     		mov	r3, r1
 303 0116 FA71     		strb	r2, [r7, #7]
 304 0118 BB71     		strb	r3, [r7, #6]
 161:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitTypeDef GPIO_InitStructure;
 162:../stm32_lib/src/STM32vldiscovery.c ****   EXTI_InitTypeDef EXTI_InitStructure;
 163:../stm32_lib/src/STM32vldiscovery.c ****   NVIC_InitTypeDef NVIC_InitStructure;
 164:../stm32_lib/src/STM32vldiscovery.c **** 
 165:../stm32_lib/src/STM32vldiscovery.c ****   /* Enable the BUTTON Clock */
 166:../stm32_lib/src/STM32vldiscovery.c ****   RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
 305              		.loc 1 166 0
 306 011a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 307 011c 40F20003 		movw	r3, #:lower16:BUTTON_CLK
 308 0120 C0F20003 		movt	r3, #:upper16:BUTTON_CLK
 309 0124 53F82230 		ldr	r3, [r3, r2, lsl #2]
 310 0128 43F00103 		orr	r3, r3, #1
 311 012c 1846     		mov	r0, r3
 312 012e 4FF00101 		mov	r1, #1
 313 0132 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 167:../stm32_lib/src/STM32vldiscovery.c **** 
 168:../stm32_lib/src/STM32vldiscovery.c ****   /* Configure Button pin as input floating */
 169:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
 314              		.loc 1 169 0
 315 0136 4FF00403 		mov	r3, #4
 316 013a FB75     		strb	r3, [r7, #23]
 170:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_InitStructure.GPIO_Pin = BUTTON_PIN[Button];
 317              		.loc 1 170 0
 318 013c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 319 013e 40F20003 		movw	r3, #:lower16:BUTTON_PIN
 320 0142 C0F20003 		movt	r3, #:upper16:BUTTON_PIN
 321 0146 33F81230 		ldrh	r3, [r3, r2, lsl #1]
 322 014a BB82     		strh	r3, [r7, #20]	@ movhi
 171:../stm32_lib/src/STM32vldiscovery.c ****   GPIO_Init(BUTTON_PORT[Button], &GPIO_InitStructure);
 323              		.loc 1 171 0
 324 014c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 325 014e 40F20003 		movw	r3, #:lower16:BUTTON_PORT
 326 0152 C0F20003 		movt	r3, #:upper16:BUTTON_PORT
 327 0156 53F82220 		ldr	r2, [r3, r2, lsl #2]
 328 015a 07F11403 		add	r3, r7, #20
 329 015e 1046     		mov	r0, r2
 330 0160 1946     		mov	r1, r3
 331 0162 FFF7FEFF 		bl	GPIO_Init
 172:../stm32_lib/src/STM32vldiscovery.c **** 
 173:../stm32_lib/src/STM32vldiscovery.c ****   if (Button_Mode == BUTTON_MODE_EXTI)
 332              		.loc 1 173 0
 333 0166 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 334 0168 012B     		cmp	r3, #1
 335 016a 40D1     		bne	.L5
 174:../stm32_lib/src/STM32vldiscovery.c ****   {
 175:../stm32_lib/src/STM32vldiscovery.c ****     /* Connect Button EXTI Line to Button GPIO Pin */
 176:../stm32_lib/src/STM32vldiscovery.c ****     GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);
 336              		.loc 1 176 0
 337 016c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 338 016e 40F20003 		movw	r3, #:lower16:BUTTON_PORT_SOURCE
 339 0172 C0F20003 		movt	r3, #:upper16:BUTTON_PORT_SOURCE
 340 0176 33F81230 		ldrh	r3, [r3, r2, lsl #1]
 341 017a DAB2     		uxtb	r2, r3
 342 017c F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 343 017e 40F20003 		movw	r3, #:lower16:BUTTON_PIN_SOURCE
 344 0182 C0F20003 		movt	r3, #:upper16:BUTTON_PIN_SOURCE
 345 0186 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 346 018a DBB2     		uxtb	r3, r3
 347 018c 1046     		mov	r0, r2
 348 018e 1946     		mov	r1, r3
 349 0190 FFF7FEFF 		bl	GPIO_EXTILineConfig
 177:../stm32_lib/src/STM32vldiscovery.c **** 
 178:../stm32_lib/src/STM32vldiscovery.c ****     /* Configure Button EXTI line */
 179:../stm32_lib/src/STM32vldiscovery.c ****     EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
 350              		.loc 1 179 0
 351 0194 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 352 0196 40F20003 		movw	r3, #:lower16:BUTTON_EXTI_LINE
 353 019a C0F20003 		movt	r3, #:upper16:BUTTON_EXTI_LINE
 354 019e 33F81230 		ldrh	r3, [r3, r2, lsl #1]
 355 01a2 FB60     		str	r3, [r7, #12]
 180:../stm32_lib/src/STM32vldiscovery.c ****     EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
 356              		.loc 1 180 0
 357 01a4 4FF00003 		mov	r3, #0
 358 01a8 3B74     		strb	r3, [r7, #16]
 181:../stm32_lib/src/STM32vldiscovery.c **** 
 182:../stm32_lib/src/STM32vldiscovery.c ****     EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;  
 359              		.loc 1 182 0
 360 01aa 4FF00803 		mov	r3, #8
 361 01ae 7B74     		strb	r3, [r7, #17]
 183:../stm32_lib/src/STM32vldiscovery.c **** 
 184:../stm32_lib/src/STM32vldiscovery.c ****     EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 362              		.loc 1 184 0
 363 01b0 4FF00103 		mov	r3, #1
 364 01b4 BB74     		strb	r3, [r7, #18]
 185:../stm32_lib/src/STM32vldiscovery.c ****     EXTI_Init(&EXTI_InitStructure);
 365              		.loc 1 185 0
 366 01b6 07F10C03 		add	r3, r7, #12
 367 01ba 1846     		mov	r0, r3
 368 01bc FFF7FEFF 		bl	EXTI_Init
 186:../stm32_lib/src/STM32vldiscovery.c **** 
 187:../stm32_lib/src/STM32vldiscovery.c ****     /* Enable and set Button EXTI Interrupt to the lowest priority */
 188:../stm32_lib/src/STM32vldiscovery.c ****     NVIC_InitStructure.NVIC_IRQChannel = BUTTON_IRQn[Button];
 369              		.loc 1 188 0
 370 01c0 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 371 01c2 40F20003 		movw	r3, #:lower16:BUTTON_IRQn
 372 01c6 C0F20003 		movt	r3, #:upper16:BUTTON_IRQn
 373 01ca 33F81230 		ldrh	r3, [r3, r2, lsl #1]
 374 01ce DBB2     		uxtb	r3, r3
 375 01d0 3B72     		strb	r3, [r7, #8]
 189:../stm32_lib/src/STM32vldiscovery.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x0F;
 376              		.loc 1 189 0
 377 01d2 4FF00F03 		mov	r3, #15
 378 01d6 7B72     		strb	r3, [r7, #9]
 190:../stm32_lib/src/STM32vldiscovery.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x0F;
 379              		.loc 1 190 0
 380 01d8 4FF00F03 		mov	r3, #15
 381 01dc BB72     		strb	r3, [r7, #10]
 191:../stm32_lib/src/STM32vldiscovery.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 382              		.loc 1 191 0
 383 01de 4FF00103 		mov	r3, #1
 384 01e2 FB72     		strb	r3, [r7, #11]
 192:../stm32_lib/src/STM32vldiscovery.c **** 
 193:../stm32_lib/src/STM32vldiscovery.c ****     NVIC_Init(&NVIC_InitStructure); 
 385              		.loc 1 193 0
 386 01e4 07F10803 		add	r3, r7, #8
 387 01e8 1846     		mov	r0, r3
 388 01ea FFF7FEFF 		bl	NVIC_Init
 389              	.L5:
 194:../stm32_lib/src/STM32vldiscovery.c ****   }
 195:../stm32_lib/src/STM32vldiscovery.c **** }
 390              		.loc 1 195 0
 391 01ee 07F11807 		add	r7, r7, #24
 392 01f2 BD46     		mov	sp, r7
 393 01f4 80BD     		pop	{r7, pc}
 394              		.cfi_endproc
 395              	.LFE33:
 397 01f6 00BF     		.align	2
 398              		.global	STM32vldiscovery_PBGetState
 399              		.thumb
 400              		.thumb_func
 402              	STM32vldiscovery_PBGetState:
 403              	.LFB34:
 196:../stm32_lib/src/STM32vldiscovery.c **** 
 197:../stm32_lib/src/STM32vldiscovery.c **** /**
 198:../stm32_lib/src/STM32vldiscovery.c ****   * @brief  Returns the selected Button state.
 199:../stm32_lib/src/STM32vldiscovery.c ****   * @param  Button: Specifies the Button to be checked.
 200:../stm32_lib/src/STM32vldiscovery.c ****   *   This parameter can be one of following parameters:    
 201:../stm32_lib/src/STM32vldiscovery.c ****   *     @arg BUTTON_USER: USER Push Button 
 202:../stm32_lib/src/STM32vldiscovery.c ****   * @retval The Button GPIO pin value.
 203:../stm32_lib/src/STM32vldiscovery.c ****   */
 204:../stm32_lib/src/STM32vldiscovery.c **** uint32_t STM32vldiscovery_PBGetState(Button_TypeDef Button)
 205:../stm32_lib/src/STM32vldiscovery.c **** {
 404              		.loc 1 205 0
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 8
 407              		@ frame_needed = 1, uses_anonymous_args = 0
 408 01f8 80B5     		push	{r7, lr}
 409              	.LCFI15:
 410              		.cfi_def_cfa_offset 8
 411              		.cfi_offset 14, -4
 412              		.cfi_offset 7, -8
 413 01fa 82B0     		sub	sp, sp, #8
 414              	.LCFI16:
 415              		.cfi_def_cfa_offset 16
 416 01fc 00AF     		add	r7, sp, #0
 417              	.LCFI17:
 418              		.cfi_def_cfa_register 7
 419 01fe 0346     		mov	r3, r0
 420 0200 FB71     		strb	r3, [r7, #7]
 206:../stm32_lib/src/STM32vldiscovery.c ****   return GPIO_ReadInputDataBit(BUTTON_PORT[Button], BUTTON_PIN[Button]);
 421              		.loc 1 206 0
 422 0202 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 423 0204 40F20003 		movw	r3, #:lower16:BUTTON_PORT
 424 0208 C0F20003 		movt	r3, #:upper16:BUTTON_PORT
 425 020c 53F82220 		ldr	r2, [r3, r2, lsl #2]
 426 0210 F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 427 0212 40F20003 		movw	r3, #:lower16:BUTTON_PIN
 428 0216 C0F20003 		movt	r3, #:upper16:BUTTON_PIN
 429 021a 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 430 021e 1046     		mov	r0, r2
 431 0220 1946     		mov	r1, r3
 432 0222 FFF7FEFF 		bl	GPIO_ReadInputDataBit
 433 0226 0346     		mov	r3, r0
 207:../stm32_lib/src/STM32vldiscovery.c **** }
 434              		.loc 1 207 0
 435 0228 1846     		mov	r0, r3
 436 022a 07F10807 		add	r7, r7, #8
 437 022e BD46     		mov	sp, r7
 438 0230 80BD     		pop	{r7, pc}
 439              		.cfi_endproc
 440              	.LFE34:
 442              	.Letext0:
 443              		.file 2 "/opt/CodeSourcery/arm-2011.09/bin/../lib/gcc/arm-none-eabi/4.6.1/../../../../arm-none-eab
 444              		.file 3 "/home/simon/workspace/stm32vl/stm32_lib/inc/stm32f10x.h"
 445              		.file 4 "/home/simon/workspace/stm32vl/stm32_lib/inc/stm32f10x_exti.h"
 446              		.file 5 "/home/simon/workspace/stm32vl/stm32_lib/inc/stm32f10x_gpio.h"
 447              		.file 6 "/home/simon/workspace/stm32vl/stm32_lib/inc/misc.h"
 448              		.file 7 "/home/simon/workspace/stm32vl/stm32_lib/inc/STM32vldiscovery.h"
 449              		.file 8 "/home/simon/workspace/stm32vl/stm32_lib/inc/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 STM32vldiscovery.c
     /tmp/ccd2KzJy.s:23     .data:00000000 GPIO_PORT
     /tmp/ccd2KzJy.s:20     .data:00000000 $d
     /tmp/ccd2KzJy.s:31     .rodata:00000000 GPIO_PIN
     /tmp/ccd2KzJy.s:28     .rodata:00000000 $d
     /tmp/ccd2KzJy.s:38     .rodata:00000004 GPIO_CLK
     /tmp/ccd2KzJy.s:45     .rodata:0000000c BUTTON_PIN_SOURCE
     /tmp/ccd2KzJy.s:51     .rodata:00000010 BUTTON_PORT_SOURCE
     /tmp/ccd2KzJy.s:58     .data:00000008 BUTTON_PORT
     /tmp/ccd2KzJy.s:65     .rodata:00000014 BUTTON_PIN
     /tmp/ccd2KzJy.s:71     .rodata:00000018 BUTTON_CLK
     /tmp/ccd2KzJy.s:77     .rodata:0000001c BUTTON_EXTI_LINE
     /tmp/ccd2KzJy.s:83     .rodata:00000020 BUTTON_IRQn
     /tmp/ccd2KzJy.s:86     .text:00000000 $t
     /tmp/ccd2KzJy.s:91     .text:00000000 STM32vldiscovery_LEDInit
     /tmp/ccd2KzJy.s:152    .text:00000060 STM32vldiscovery_LEDOn
     /tmp/ccd2KzJy.s:194    .text:00000094 STM32vldiscovery_LEDOff
     /tmp/ccd2KzJy.s:236    .text:000000c8 STM32vldiscovery_LEDToggle
     /tmp/ccd2KzJy.s:284    .text:0000010c STM32vldiscovery_PBInit
     /tmp/ccd2KzJy.s:402    .text:000001f8 STM32vldiscovery_PBGetState
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
RCC_APB2PeriphClockCmd
GPIO_Init
GPIO_EXTILineConfig
EXTI_Init
NVIC_Init
GPIO_ReadInputDataBit
